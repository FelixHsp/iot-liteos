ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"registration.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.prv_getRegistrationQueryLength,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv4-sp-d16
  24              	prv_getRegistrationQueryLength:
  25              	.LFB134:
  26              		.file 1 "D:/iot/felix2/components/connectivity/lwm2m/core/registration.c"
   1:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** /*----------------------------------------------------------------------------
   2:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * Copyright (c) <2016-2018>, <Huawei Technologies Co., Ltd>
   3:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * All rights reserved.
   4:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * Redistribution and use in source and binary forms, with or without modification,
   5:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * are permitted provided that the following conditions are met:
   6:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * 1. Redistributions of source code must retain the above copyright notice, this list of
   7:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * conditions and the following disclaimer.
   8:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice, this list
   9:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * of conditions and the following disclaimer in the documentation and/or other materials
  10:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * provided with the distribution.
  11:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * 3. Neither the name of the copyright holder nor the names of its contributors may be used
  12:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * to endorse or promote products derived from this software without specific prior written
  13:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * permission.
  14:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
  15:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  16:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  17:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR
  18:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  19:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  20:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
  21:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
  22:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
  23:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
  24:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  25:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  *---------------------------------------------------------------------------*/
  26:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** /*----------------------------------------------------------------------------
  27:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * Notice of Export Control Law
  28:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * ===============================================
  29:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * Huawei LiteOS may be subject to applicable export control laws and regulations, which might
  30:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * include those applicable to Huawei LiteOS of U.S. and the country in which you are located.
  31:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * Import, export and usage of Huawei LiteOS in any manner by you shall be in compliance with such
  32:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * applicable export control laws and regulations.
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 2


  33:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  *---------------------------------------------------------------------------*/
  34:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
  35:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** /*******************************************************************************
  36:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  *
  37:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * Copyright (c) 2013, 2014 Intel Corporation and others.
  38:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * All rights reserved. This program and the accompanying materials
  39:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * are made available under the terms of the Eclipse Public License v1.0
  40:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * and Eclipse Distribution License v1.0 which accompany this distribution.
  41:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  *
  42:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * The Eclipse Public License is available at
  43:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  *    http://www.eclipse.org/legal/epl-v10.html
  44:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * The Eclipse Distribution License is available at
  45:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  *    http://www.eclipse.org/org/documents/edl-v10.php.
  46:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  *
  47:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * Contributors:
  48:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  *    David Navarro, Intel Corporation - initial API and implementation
  49:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  *    domedambrosio - Please refer to git log
  50:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  *    Fabien Fleutot - Please refer to git log
  51:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  *    Simon Bernard - Please refer to git log
  52:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  *    Toby Jaffey - Please refer to git log
  53:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  *    Manuel Sangoi - Please refer to git log
  54:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  *    Julien Vermillard - Please refer to git log
  55:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  *    Bosch Software Innovations GmbH - Please refer to git log
  56:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  *    Pascal Rieux - Please refer to git log
  57:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  *    Scott Bertin - Please refer to git log
  58:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  *
  59:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  *******************************************************************************/
  60:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
  61:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** /*
  62:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  Copyright (c) 2013, 2014 Intel Corporation
  63:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
  64:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  Redistribution and use in source and binary forms, with or without modification,
  65:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  are permitted provided that the following conditions are met:
  66:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
  67:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****      * Redistributions of source code must retain the above copyright notice,
  68:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****        this list of conditions and the following disclaimer.
  69:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****      * Redistributions in binary form must reproduce the above copyright notice,
  70:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****        this list of conditions and the following disclaimer in the documentation
  71:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****        and/or other materials provided with the distribution.
  72:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****      * Neither the name of Intel Corporation nor the names of its contributors
  73:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****        may be used to endorse or promote products derived from this software
  74:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****        without specific prior written permission.
  75:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
  76:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
  77:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
  78:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
  79:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
  80:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
  81:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
  82:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  83:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
  84:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF
  85:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  THE POSSIBILITY OF SUCH DAMAGE.
  86:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
  87:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  David Navarro <david.navarro@intel.com>
  88:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
  89:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** */
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 3


  90:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
  91:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** #include "internals.h"
  92:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
  93:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** #include <stdlib.h>
  94:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** #include <string.h>
  95:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** #include <stdio.h>
  96:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
  97:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** #define MAX_LOCATION_LENGTH 10      // strlen("/rd/65534") + 1
  98:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
  99:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** #ifdef LWM2M_CLIENT_MODE
 100:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 101:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** static int prv_getRegistrationQueryLength(lwm2m_context_t *contextP,
 102:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         lwm2m_server_t *server)
 103:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** {
  27              		.loc 1 103 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 40
  30              		@ frame_needed = 1, uses_anonymous_args = 0
  31 0000 90B5     		push	{r4, r7, lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 12
  34              		.cfi_offset 4, -12
  35              		.cfi_offset 7, -8
  36              		.cfi_offset 14, -4
  37 0002 8BB0     		sub	sp, sp, #44
  38              	.LCFI1:
  39              		.cfi_def_cfa_offset 56
  40 0004 00AF     		add	r7, sp, #0
  41              	.LCFI2:
  42              		.cfi_def_cfa_register 7
  43 0006 7860     		str	r0, [r7, #4]
  44 0008 3960     		str	r1, [r7]
 104:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     int index;
 105:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     int res;
 106:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     char buffer[21];
 107:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 108:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     index = strlen(QUERY_STARTER QUERY_VERSION_FULL QUERY_DELIMITER QUERY_NAME);//?1.0&ep=
  45              		.loc 1 108 0
  46 000a 0E23     		movs	r3, #14
  47 000c 7B62     		str	r3, [r7, #36]
 109:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     index += strlen(contextP->endpointName);
  48              		.loc 1 109 0
  49 000e 7B68     		ldr	r3, [r7, #4]
  50 0010 5B68     		ldr	r3, [r3, #4]
  51 0012 1846     		mov	r0, r3
  52 0014 FFF7FEFF 		bl	strlen
  53 0018 0246     		mov	r2, r0
  54 001a 7B6A     		ldr	r3, [r7, #36]
  55 001c 1344     		add	r3, r3, r2
  56 001e 7B62     		str	r3, [r7, #36]
 110:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 111:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (NULL != contextP->msisdn)
  57              		.loc 1 111 0
  58 0020 7B68     		ldr	r3, [r7, #4]
  59 0022 9B68     		ldr	r3, [r3, #8]
  60 0024 002B     		cmp	r3, #0
  61 0026 0BD0     		beq	.L2
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 4


 112:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 113:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         index += strlen(QUERY_DELIMITER QUERY_SMS);
  62              		.loc 1 113 0
  63 0028 7B6A     		ldr	r3, [r7, #36]
  64 002a 0533     		adds	r3, r3, #5
  65 002c 7B62     		str	r3, [r7, #36]
 114:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         index += strlen(contextP->msisdn);
  66              		.loc 1 114 0
  67 002e 7B68     		ldr	r3, [r7, #4]
  68 0030 9B68     		ldr	r3, [r3, #8]
  69 0032 1846     		mov	r0, r3
  70 0034 FFF7FEFF 		bl	strlen
  71 0038 0246     		mov	r2, r0
  72 003a 7B6A     		ldr	r3, [r7, #36]
  73 003c 1344     		add	r3, r3, r2
  74 003e 7B62     		str	r3, [r7, #36]
  75              	.L2:
 115:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 116:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 117:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     switch (server->binding)
  76              		.loc 1 117 0
  77 0040 3B68     		ldr	r3, [r7]
  78 0042 1B7E     		ldrb	r3, [r3, #24]	@ zero_extendqisi2
  79 0044 013B     		subs	r3, r3, #1
  80 0046 052B     		cmp	r3, #5
  81 0048 26D8     		bhi	.L3
  82 004a 01A2     		adr	r2, .L5
  83 004c 52F823F0 		ldr	pc, [r2, r3, lsl #2]
  84              		.p2align 2
  85              	.L5:
  86 0050 69000000 		.word	.L4+1
  87 0054 71000000 		.word	.L6+1
  88 0058 79000000 		.word	.L7+1
  89 005c 81000000 		.word	.L8+1
  90 0060 89000000 		.word	.L9+1
  91 0064 91000000 		.word	.L10+1
  92              		.p2align 1
  93              	.L4:
 118:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 119:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     case BINDING_U:
 120:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         index += strlen("&b=U");
  94              		.loc 1 120 0
  95 0068 7B6A     		ldr	r3, [r7, #36]
  96 006a 0433     		adds	r3, r3, #4
  97 006c 7B62     		str	r3, [r7, #36]
 121:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         break;
  98              		.loc 1 121 0
  99 006e 15E0     		b	.L11
 100              	.L6:
 122:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     case BINDING_UQ:
 123:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         index += strlen("&b=UQ");
 101              		.loc 1 123 0
 102 0070 7B6A     		ldr	r3, [r7, #36]
 103 0072 0533     		adds	r3, r3, #5
 104 0074 7B62     		str	r3, [r7, #36]
 124:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         break;
 105              		.loc 1 124 0
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 5


 106 0076 11E0     		b	.L11
 107              	.L7:
 125:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     case BINDING_S:
 126:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         index += strlen("&b=S");
 108              		.loc 1 126 0
 109 0078 7B6A     		ldr	r3, [r7, #36]
 110 007a 0433     		adds	r3, r3, #4
 111 007c 7B62     		str	r3, [r7, #36]
 127:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         break;
 112              		.loc 1 127 0
 113 007e 0DE0     		b	.L11
 114              	.L8:
 128:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     case BINDING_SQ:
 129:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         index += strlen("&b=SQ");
 115              		.loc 1 129 0
 116 0080 7B6A     		ldr	r3, [r7, #36]
 117 0082 0533     		adds	r3, r3, #5
 118 0084 7B62     		str	r3, [r7, #36]
 130:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         break;
 119              		.loc 1 130 0
 120 0086 09E0     		b	.L11
 121              	.L9:
 131:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     case BINDING_US:
 132:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         index += strlen("&b=US");
 122              		.loc 1 132 0
 123 0088 7B6A     		ldr	r3, [r7, #36]
 124 008a 0533     		adds	r3, r3, #5
 125 008c 7B62     		str	r3, [r7, #36]
 133:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         break;
 126              		.loc 1 133 0
 127 008e 05E0     		b	.L11
 128              	.L10:
 134:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     case BINDING_UQS:
 135:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         index += strlen("&b=UQS");
 129              		.loc 1 135 0
 130 0090 7B6A     		ldr	r3, [r7, #36]
 131 0092 0633     		adds	r3, r3, #6
 132 0094 7B62     		str	r3, [r7, #36]
 136:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         break;
 133              		.loc 1 136 0
 134 0096 01E0     		b	.L11
 135              	.L3:
 137:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     default:
 138:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         return 0;
 136              		.loc 1 138 0
 137 0098 0023     		movs	r3, #0
 138 009a 1CE0     		b	.L15
 139              	.L11:
 139:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 140:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 141:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (0 != server->lifetime)
 140              		.loc 1 141 0
 141 009c 3B68     		ldr	r3, [r7]
 142 009e D3E90234 		ldrd	r3, [r3, #8]
 143 00a2 2343     		orrs	r3, r3, r4
 144 00a4 15D0     		beq	.L13
 142:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 6


 143:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         index += strlen(QUERY_DELIMITER QUERY_LIFETIME);//&lt=
 145              		.loc 1 143 0
 146 00a6 7B6A     		ldr	r3, [r7, #36]
 147 00a8 0433     		adds	r3, r3, #4
 148 00aa 7B62     		str	r3, [r7, #36]
 144:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         res = utils_intToText(server->lifetime, (uint8_t *)buffer, sizeof(buffer));
 149              		.loc 1 144 0
 150 00ac 3B68     		ldr	r3, [r7]
 151 00ae D3E90201 		ldrd	r0, [r3, #8]
 152 00b2 07F10802 		add	r2, r7, #8
 153 00b6 1523     		movs	r3, #21
 154 00b8 FFF7FEFF 		bl	utils_intToText
 155 00bc 0346     		mov	r3, r0
 156 00be 3B62     		str	r3, [r7, #32]
 145:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         if (res == 0) return 0;
 157              		.loc 1 145 0
 158 00c0 3B6A     		ldr	r3, [r7, #32]
 159 00c2 002B     		cmp	r3, #0
 160 00c4 01D1     		bne	.L14
 161              		.loc 1 145 0 is_stmt 0 discriminator 1
 162 00c6 0023     		movs	r3, #0
 163 00c8 05E0     		b	.L15
 164              	.L14:
 146:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         index += res;
 165              		.loc 1 146 0 is_stmt 1
 166 00ca 7A6A     		ldr	r2, [r7, #36]
 167 00cc 3B6A     		ldr	r3, [r7, #32]
 168 00ce 1344     		add	r3, r3, r2
 169 00d0 7B62     		str	r3, [r7, #36]
 170              	.L13:
 147:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 148:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 149:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     return index + 1;
 171              		.loc 1 149 0
 172 00d2 7B6A     		ldr	r3, [r7, #36]
 173 00d4 0133     		adds	r3, r3, #1
 174              	.L15:
 150:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** }
 175              		.loc 1 150 0 discriminator 1
 176 00d6 1846     		mov	r0, r3
 177 00d8 2C37     		adds	r7, r7, #44
 178              	.LCFI3:
 179              		.cfi_def_cfa_offset 12
 180 00da BD46     		mov	sp, r7
 181              	.LCFI4:
 182              		.cfi_def_cfa_register 13
 183              		@ sp needed
 184 00dc 90BD     		pop	{r4, r7, pc}
 185              		.cfi_endproc
 186              	.LFE134:
 188 00de 00BF     		.section	.rodata
 189              		.align	2
 190              	.LC0:
 191 0000 3F6C776D 		.ascii	"?lwm2m=1.0&ep=\000"
 191      326D3D31 
 191      2E302665 
 191      703D00
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 7


 192 000f 00       		.align	2
 193              	.LC1:
 194 0010 26736D73 		.ascii	"&sms=\000"
 194      3D00
 195 0016 0000     		.align	2
 196              	.LC2:
 197 0018 26623D55 		.ascii	"&b=U\000"
 197      00
 198 001d 000000   		.align	2
 199              	.LC3:
 200 0020 26623D55 		.ascii	"&b=UQ\000"
 200      5100
 201 0026 0000     		.align	2
 202              	.LC4:
 203 0028 26623D53 		.ascii	"&b=S\000"
 203      00
 204 002d 000000   		.align	2
 205              	.LC5:
 206 0030 26623D53 		.ascii	"&b=SQ\000"
 206      5100
 207 0036 0000     		.align	2
 208              	.LC6:
 209 0038 26623D55 		.ascii	"&b=US\000"
 209      5300
 210 003e 0000     		.align	2
 211              	.LC7:
 212 0040 26623D55 		.ascii	"&b=UQS\000"
 212      515300
 213 0047 00       		.align	2
 214              	.LC8:
 215 0048 266C743D 		.ascii	"&lt=\000"
 215      00
 216              		.section	.text.prv_getRegistrationQuery,"ax",%progbits
 217              		.align	1
 218              		.syntax unified
 219              		.thumb
 220              		.thumb_func
 221              		.fpu fpv4-sp-d16
 223              	prv_getRegistrationQuery:
 224              	.LFB135:
 151:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 152:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** static int prv_getRegistrationQuery(lwm2m_context_t *contextP,
 153:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                                     lwm2m_server_t *server,
 154:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                                     char *buffer,
 155:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                                     size_t length)
 156:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** {
 225              		.loc 1 156 0
 226              		.cfi_startproc
 227              		@ args = 0, pretend = 0, frame = 24
 228              		@ frame_needed = 1, uses_anonymous_args = 0
 229 0000 90B5     		push	{r4, r7, lr}
 230              	.LCFI5:
 231              		.cfi_def_cfa_offset 12
 232              		.cfi_offset 4, -12
 233              		.cfi_offset 7, -8
 234              		.cfi_offset 14, -4
 235 0002 87B0     		sub	sp, sp, #28
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 8


 236              	.LCFI6:
 237              		.cfi_def_cfa_offset 40
 238 0004 00AF     		add	r7, sp, #0
 239              	.LCFI7:
 240              		.cfi_def_cfa_register 7
 241 0006 F860     		str	r0, [r7, #12]
 242 0008 B960     		str	r1, [r7, #8]
 243 000a 7A60     		str	r2, [r7, #4]
 244 000c 3B60     		str	r3, [r7]
 157:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     int index;
 158:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     int res;
 159:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 160:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     index = utils_stringCopy(buffer, length, QUERY_STARTER QUERY_VERSION_FULL QUERY_DELIMITER QUERY
 245              		.loc 1 160 0
 246 000e 7C4A     		ldr	r2, .L38
 247 0010 3968     		ldr	r1, [r7]
 248 0012 7868     		ldr	r0, [r7, #4]
 249 0014 FFF7FEFF 		bl	utils_stringCopy
 250 0018 7861     		str	r0, [r7, #20]
 161:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (index < 0) return 0;
 251              		.loc 1 161 0
 252 001a 7B69     		ldr	r3, [r7, #20]
 253 001c 002B     		cmp	r3, #0
 254 001e 01DA     		bge	.L17
 255              		.loc 1 161 0 is_stmt 0 discriminator 1
 256 0020 0023     		movs	r3, #0
 257 0022 E8E0     		b	.L18
 258              	.L17:
 162:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     res = utils_stringCopy(buffer + index, length - index, contextP->endpointName);
 259              		.loc 1 162 0 is_stmt 1
 260 0024 7B69     		ldr	r3, [r7, #20]
 261 0026 7A68     		ldr	r2, [r7, #4]
 262 0028 D018     		adds	r0, r2, r3
 263 002a 7B69     		ldr	r3, [r7, #20]
 264 002c 3A68     		ldr	r2, [r7]
 265 002e D11A     		subs	r1, r2, r3
 266 0030 FB68     		ldr	r3, [r7, #12]
 267 0032 5B68     		ldr	r3, [r3, #4]
 268 0034 1A46     		mov	r2, r3
 269 0036 FFF7FEFF 		bl	utils_stringCopy
 270 003a 3861     		str	r0, [r7, #16]
 163:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (res < 0) return 0;
 271              		.loc 1 163 0
 272 003c 3B69     		ldr	r3, [r7, #16]
 273 003e 002B     		cmp	r3, #0
 274 0040 01DA     		bge	.L19
 275              		.loc 1 163 0 is_stmt 0 discriminator 1
 276 0042 0023     		movs	r3, #0
 277 0044 D7E0     		b	.L18
 278              	.L19:
 164:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     index += res;
 279              		.loc 1 164 0 is_stmt 1
 280 0046 7A69     		ldr	r2, [r7, #20]
 281 0048 3B69     		ldr	r3, [r7, #16]
 282 004a 1344     		add	r3, r3, r2
 283 004c 7B61     		str	r3, [r7, #20]
 165:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 9


 166:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (NULL != contextP->msisdn)
 284              		.loc 1 166 0
 285 004e FB68     		ldr	r3, [r7, #12]
 286 0050 9B68     		ldr	r3, [r3, #8]
 287 0052 002B     		cmp	r3, #0
 288 0054 28D0     		beq	.L20
 167:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 168:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         res = utils_stringCopy(buffer + index, length - index, QUERY_DELIMITER QUERY_SMS);
 289              		.loc 1 168 0
 290 0056 7B69     		ldr	r3, [r7, #20]
 291 0058 7A68     		ldr	r2, [r7, #4]
 292 005a D018     		adds	r0, r2, r3
 293 005c 7B69     		ldr	r3, [r7, #20]
 294 005e 3A68     		ldr	r2, [r7]
 295 0060 D31A     		subs	r3, r2, r3
 296 0062 684A     		ldr	r2, .L38+4
 297 0064 1946     		mov	r1, r3
 298 0066 FFF7FEFF 		bl	utils_stringCopy
 299 006a 3861     		str	r0, [r7, #16]
 169:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         if (res < 0) return 0;
 300              		.loc 1 169 0
 301 006c 3B69     		ldr	r3, [r7, #16]
 302 006e 002B     		cmp	r3, #0
 303 0070 01DA     		bge	.L21
 304              		.loc 1 169 0 is_stmt 0 discriminator 1
 305 0072 0023     		movs	r3, #0
 306 0074 BFE0     		b	.L18
 307              	.L21:
 170:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         index += res;
 308              		.loc 1 170 0 is_stmt 1
 309 0076 7A69     		ldr	r2, [r7, #20]
 310 0078 3B69     		ldr	r3, [r7, #16]
 311 007a 1344     		add	r3, r3, r2
 312 007c 7B61     		str	r3, [r7, #20]
 171:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         res = utils_stringCopy(buffer + index, length - index, contextP->msisdn);
 313              		.loc 1 171 0
 314 007e 7B69     		ldr	r3, [r7, #20]
 315 0080 7A68     		ldr	r2, [r7, #4]
 316 0082 D018     		adds	r0, r2, r3
 317 0084 7B69     		ldr	r3, [r7, #20]
 318 0086 3A68     		ldr	r2, [r7]
 319 0088 D11A     		subs	r1, r2, r3
 320 008a FB68     		ldr	r3, [r7, #12]
 321 008c 9B68     		ldr	r3, [r3, #8]
 322 008e 1A46     		mov	r2, r3
 323 0090 FFF7FEFF 		bl	utils_stringCopy
 324 0094 3861     		str	r0, [r7, #16]
 172:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         if (res < 0) return 0;
 325              		.loc 1 172 0
 326 0096 3B69     		ldr	r3, [r7, #16]
 327 0098 002B     		cmp	r3, #0
 328 009a 01DA     		bge	.L22
 329              		.loc 1 172 0 is_stmt 0 discriminator 1
 330 009c 0023     		movs	r3, #0
 331 009e AAE0     		b	.L18
 332              	.L22:
 173:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         index += res;
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 10


 333              		.loc 1 173 0 is_stmt 1
 334 00a0 7A69     		ldr	r2, [r7, #20]
 335 00a2 3B69     		ldr	r3, [r7, #16]
 336 00a4 1344     		add	r3, r3, r2
 337 00a6 7B61     		str	r3, [r7, #20]
 338              	.L20:
 174:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 175:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 176:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     switch (server->binding)
 339              		.loc 1 176 0
 340 00a8 BB68     		ldr	r3, [r7, #8]
 341 00aa 1B7E     		ldrb	r3, [r3, #24]	@ zero_extendqisi2
 342 00ac 013B     		subs	r3, r3, #1
 343 00ae 052B     		cmp	r3, #5
 344 00b0 56D8     		bhi	.L23
 345 00b2 01A2     		adr	r2, .L25
 346 00b4 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 347              		.p2align 2
 348              	.L25:
 349 00b8 D1000000 		.word	.L24+1
 350 00bc E9000000 		.word	.L26+1
 351 00c0 01010000 		.word	.L27+1
 352 00c4 19010000 		.word	.L28+1
 353 00c8 31010000 		.word	.L29+1
 354 00cc 49010000 		.word	.L30+1
 355              		.p2align 1
 356              	.L24:
 177:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 178:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     case BINDING_U:
 179:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         res = utils_stringCopy(buffer + index, length - index, "&b=U");
 357              		.loc 1 179 0
 358 00d0 7B69     		ldr	r3, [r7, #20]
 359 00d2 7A68     		ldr	r2, [r7, #4]
 360 00d4 D018     		adds	r0, r2, r3
 361 00d6 7B69     		ldr	r3, [r7, #20]
 362 00d8 3A68     		ldr	r2, [r7]
 363 00da D31A     		subs	r3, r2, r3
 364 00dc 4A4A     		ldr	r2, .L38+8
 365 00de 1946     		mov	r1, r3
 366 00e0 FFF7FEFF 		bl	utils_stringCopy
 367 00e4 3861     		str	r0, [r7, #16]
 180:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         break;
 368              		.loc 1 180 0
 369 00e6 3EE0     		b	.L31
 370              	.L26:
 181:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     case BINDING_UQ:
 182:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         res = utils_stringCopy(buffer + index, length - index, "&b=UQ");
 371              		.loc 1 182 0
 372 00e8 7B69     		ldr	r3, [r7, #20]
 373 00ea 7A68     		ldr	r2, [r7, #4]
 374 00ec D018     		adds	r0, r2, r3
 375 00ee 7B69     		ldr	r3, [r7, #20]
 376 00f0 3A68     		ldr	r2, [r7]
 377 00f2 D31A     		subs	r3, r2, r3
 378 00f4 454A     		ldr	r2, .L38+12
 379 00f6 1946     		mov	r1, r3
 380 00f8 FFF7FEFF 		bl	utils_stringCopy
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 11


 381 00fc 3861     		str	r0, [r7, #16]
 183:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         break;
 382              		.loc 1 183 0
 383 00fe 32E0     		b	.L31
 384              	.L27:
 184:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     case BINDING_S:
 185:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         res = utils_stringCopy(buffer + index, length - index, "&b=S");
 385              		.loc 1 185 0
 386 0100 7B69     		ldr	r3, [r7, #20]
 387 0102 7A68     		ldr	r2, [r7, #4]
 388 0104 D018     		adds	r0, r2, r3
 389 0106 7B69     		ldr	r3, [r7, #20]
 390 0108 3A68     		ldr	r2, [r7]
 391 010a D31A     		subs	r3, r2, r3
 392 010c 404A     		ldr	r2, .L38+16
 393 010e 1946     		mov	r1, r3
 394 0110 FFF7FEFF 		bl	utils_stringCopy
 395 0114 3861     		str	r0, [r7, #16]
 186:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         break;
 396              		.loc 1 186 0
 397 0116 26E0     		b	.L31
 398              	.L28:
 187:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     case BINDING_SQ:
 188:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         res = utils_stringCopy(buffer + index, length - index, "&b=SQ");
 399              		.loc 1 188 0
 400 0118 7B69     		ldr	r3, [r7, #20]
 401 011a 7A68     		ldr	r2, [r7, #4]
 402 011c D018     		adds	r0, r2, r3
 403 011e 7B69     		ldr	r3, [r7, #20]
 404 0120 3A68     		ldr	r2, [r7]
 405 0122 D31A     		subs	r3, r2, r3
 406 0124 3B4A     		ldr	r2, .L38+20
 407 0126 1946     		mov	r1, r3
 408 0128 FFF7FEFF 		bl	utils_stringCopy
 409 012c 3861     		str	r0, [r7, #16]
 189:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         break;
 410              		.loc 1 189 0
 411 012e 1AE0     		b	.L31
 412              	.L29:
 190:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     case BINDING_US:
 191:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         res = utils_stringCopy(buffer + index, length - index, "&b=US");
 413              		.loc 1 191 0
 414 0130 7B69     		ldr	r3, [r7, #20]
 415 0132 7A68     		ldr	r2, [r7, #4]
 416 0134 D018     		adds	r0, r2, r3
 417 0136 7B69     		ldr	r3, [r7, #20]
 418 0138 3A68     		ldr	r2, [r7]
 419 013a D31A     		subs	r3, r2, r3
 420 013c 364A     		ldr	r2, .L38+24
 421 013e 1946     		mov	r1, r3
 422 0140 FFF7FEFF 		bl	utils_stringCopy
 423 0144 3861     		str	r0, [r7, #16]
 192:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         break;
 424              		.loc 1 192 0
 425 0146 0EE0     		b	.L31
 426              	.L30:
 193:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     case BINDING_UQS:
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 12


 194:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         res = utils_stringCopy(buffer + index, length - index, "&b=UQS");
 427              		.loc 1 194 0
 428 0148 7B69     		ldr	r3, [r7, #20]
 429 014a 7A68     		ldr	r2, [r7, #4]
 430 014c D018     		adds	r0, r2, r3
 431 014e 7B69     		ldr	r3, [r7, #20]
 432 0150 3A68     		ldr	r2, [r7]
 433 0152 D31A     		subs	r3, r2, r3
 434 0154 314A     		ldr	r2, .L38+28
 435 0156 1946     		mov	r1, r3
 436 0158 FFF7FEFF 		bl	utils_stringCopy
 437 015c 3861     		str	r0, [r7, #16]
 195:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         break;
 438              		.loc 1 195 0
 439 015e 02E0     		b	.L31
 440              	.L23:
 196:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     default:
 197:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         res = -1;
 441              		.loc 1 197 0
 442 0160 4FF0FF33 		mov	r3, #-1
 443 0164 3B61     		str	r3, [r7, #16]
 444              	.L31:
 198:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 199:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (res < 0) return 0;
 445              		.loc 1 199 0
 446 0166 3B69     		ldr	r3, [r7, #16]
 447 0168 002B     		cmp	r3, #0
 448 016a 01DA     		bge	.L32
 449              		.loc 1 199 0 is_stmt 0 discriminator 1
 450 016c 0023     		movs	r3, #0
 451 016e 42E0     		b	.L18
 452              	.L32:
 200:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     index += res;
 453              		.loc 1 200 0 is_stmt 1
 454 0170 7A69     		ldr	r2, [r7, #20]
 455 0172 3B69     		ldr	r3, [r7, #16]
 456 0174 1344     		add	r3, r3, r2
 457 0176 7B61     		str	r3, [r7, #20]
 201:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 202:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (0 != server->lifetime)
 458              		.loc 1 202 0
 459 0178 BB68     		ldr	r3, [r7, #8]
 460 017a D3E90234 		ldrd	r3, [r3, #8]
 461 017e 2343     		orrs	r3, r3, r4
 462 0180 2AD0     		beq	.L33
 203:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 204:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         res = utils_stringCopy(buffer + index, length - index, QUERY_DELIMITER QUERY_LIFETIME);
 463              		.loc 1 204 0
 464 0182 7B69     		ldr	r3, [r7, #20]
 465 0184 7A68     		ldr	r2, [r7, #4]
 466 0186 D018     		adds	r0, r2, r3
 467 0188 7B69     		ldr	r3, [r7, #20]
 468 018a 3A68     		ldr	r2, [r7]
 469 018c D31A     		subs	r3, r2, r3
 470 018e 244A     		ldr	r2, .L38+32
 471 0190 1946     		mov	r1, r3
 472 0192 FFF7FEFF 		bl	utils_stringCopy
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 13


 473 0196 3861     		str	r0, [r7, #16]
 205:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         if (res < 0) return 0;
 474              		.loc 1 205 0
 475 0198 3B69     		ldr	r3, [r7, #16]
 476 019a 002B     		cmp	r3, #0
 477 019c 01DA     		bge	.L34
 478              		.loc 1 205 0 is_stmt 0 discriminator 1
 479 019e 0023     		movs	r3, #0
 480 01a0 29E0     		b	.L18
 481              	.L34:
 206:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         index += res;
 482              		.loc 1 206 0 is_stmt 1
 483 01a2 7A69     		ldr	r2, [r7, #20]
 484 01a4 3B69     		ldr	r3, [r7, #16]
 485 01a6 1344     		add	r3, r3, r2
 486 01a8 7B61     		str	r3, [r7, #20]
 207:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         res = utils_intToText(server->lifetime, (uint8_t *)buffer + index, length - index);
 487              		.loc 1 207 0
 488 01aa BB68     		ldr	r3, [r7, #8]
 489 01ac D3E90201 		ldrd	r0, [r3, #8]
 490 01b0 7B69     		ldr	r3, [r7, #20]
 491 01b2 7A68     		ldr	r2, [r7, #4]
 492 01b4 D418     		adds	r4, r2, r3
 493 01b6 7B69     		ldr	r3, [r7, #20]
 494 01b8 3A68     		ldr	r2, [r7]
 495 01ba D31A     		subs	r3, r2, r3
 496 01bc 2246     		mov	r2, r4
 497 01be FFF7FEFF 		bl	utils_intToText
 498 01c2 0346     		mov	r3, r0
 499 01c4 3B61     		str	r3, [r7, #16]
 208:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         if (res == 0) return 0;
 500              		.loc 1 208 0
 501 01c6 3B69     		ldr	r3, [r7, #16]
 502 01c8 002B     		cmp	r3, #0
 503 01ca 01D1     		bne	.L35
 504              		.loc 1 208 0 is_stmt 0 discriminator 1
 505 01cc 0023     		movs	r3, #0
 506 01ce 12E0     		b	.L18
 507              	.L35:
 209:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         index += res;
 508              		.loc 1 209 0 is_stmt 1
 509 01d0 7A69     		ldr	r2, [r7, #20]
 510 01d2 3B69     		ldr	r3, [r7, #16]
 511 01d4 1344     		add	r3, r3, r2
 512 01d6 7B61     		str	r3, [r7, #20]
 513              	.L33:
 210:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 211:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 212:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if(index < (int)length)
 514              		.loc 1 212 0
 515 01d8 3B68     		ldr	r3, [r7]
 516 01da 7A69     		ldr	r2, [r7, #20]
 517 01dc 9A42     		cmp	r2, r3
 518 01de 09DA     		bge	.L36
 213:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 214:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         buffer[index++] = '\0';
 519              		.loc 1 214 0
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 14


 520 01e0 7B69     		ldr	r3, [r7, #20]
 521 01e2 5A1C     		adds	r2, r3, #1
 522 01e4 7A61     		str	r2, [r7, #20]
 523 01e6 1A46     		mov	r2, r3
 524 01e8 7B68     		ldr	r3, [r7, #4]
 525 01ea 1344     		add	r3, r3, r2
 526 01ec 0022     		movs	r2, #0
 527 01ee 1A70     		strb	r2, [r3]
 215:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 216:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     else
 217:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 218:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         return 0;
 219:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 220:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 221:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     return index;
 528              		.loc 1 221 0
 529 01f0 7B69     		ldr	r3, [r7, #20]
 530 01f2 00E0     		b	.L18
 531              	.L36:
 218:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 532              		.loc 1 218 0
 533 01f4 0023     		movs	r3, #0
 534              	.L18:
 222:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** }
 535              		.loc 1 222 0
 536 01f6 1846     		mov	r0, r3
 537 01f8 1C37     		adds	r7, r7, #28
 538              	.LCFI8:
 539              		.cfi_def_cfa_offset 12
 540 01fa BD46     		mov	sp, r7
 541              	.LCFI9:
 542              		.cfi_def_cfa_register 13
 543              		@ sp needed
 544 01fc 90BD     		pop	{r4, r7, pc}
 545              	.L39:
 546 01fe 00BF     		.align	2
 547              	.L38:
 548 0200 00000000 		.word	.LC0
 549 0204 10000000 		.word	.LC1
 550 0208 18000000 		.word	.LC2
 551 020c 20000000 		.word	.LC3
 552 0210 28000000 		.word	.LC4
 553 0214 30000000 		.word	.LC5
 554 0218 38000000 		.word	.LC6
 555 021c 40000000 		.word	.LC7
 556 0220 48000000 		.word	.LC8
 557              		.cfi_endproc
 558              	.LFE135:
 560              		.section	.text.prv_handleRegistrationReply,"ax",%progbits
 561              		.align	1
 562              		.syntax unified
 563              		.thumb
 564              		.thumb_func
 565              		.fpu fpv4-sp-d16
 567              	prv_handleRegistrationReply:
 568              	.LFB136:
 223:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 15


 224:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** static void prv_handleRegistrationReply(lwm2m_transaction_t *transacP,
 225:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                                         void *message)
 226:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** {
 569              		.loc 1 226 0
 570              		.cfi_startproc
 571              		@ args = 0, pretend = 0, frame = 24
 572              		@ frame_needed = 1, uses_anonymous_args = 0
 573 0000 90B5     		push	{r4, r7, lr}
 574              	.LCFI10:
 575              		.cfi_def_cfa_offset 12
 576              		.cfi_offset 4, -12
 577              		.cfi_offset 7, -8
 578              		.cfi_offset 14, -4
 579 0002 87B0     		sub	sp, sp, #28
 580              	.LCFI11:
 581              		.cfi_def_cfa_offset 40
 582 0004 00AF     		add	r7, sp, #0
 583              	.LCFI12:
 584              		.cfi_def_cfa_register 7
 585 0006 7860     		str	r0, [r7, #4]
 586 0008 3960     		str	r1, [r7]
 227:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     coap_packet_t *packet = (coap_packet_t *)message;
 587              		.loc 1 227 0
 588 000a 3B68     		ldr	r3, [r7]
 589 000c 7B61     		str	r3, [r7, #20]
 228:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     lwm2m_server_t *targetP = (lwm2m_server_t *)(transacP->userData);
 590              		.loc 1 228 0
 591 000e 7B68     		ldr	r3, [r7, #4]
 592 0010 5B6C     		ldr	r3, [r3, #68]
 593 0012 3B61     		str	r3, [r7, #16]
 229:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 230:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     LOG("come into  prv_handleRegistrationReply!!");
 231:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (targetP->status == STATE_REG_PENDING)
 594              		.loc 1 231 0
 595 0014 3B69     		ldr	r3, [r7, #16]
 596 0016 93F82030 		ldrb	r3, [r3, #32]	@ zero_extendqisi2
 597 001a 012B     		cmp	r3, #1
 598 001c 2DD1     		bne	.L45
 599              	.LBB2:
 232:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 233:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         time_t tv_sec = lwm2m_gettime();
 600              		.loc 1 233 0
 601 001e FFF7FEFF 		bl	lwm2m_gettime
 602 0022 C7E90201 		strd	r0, [r7, #8]
 234:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         if (tv_sec)
 603              		.loc 1 234 0
 604 0026 D7E90234 		ldrd	r3, [r7, #8]
 605 002a 2343     		orrs	r3, r3, r4
 606 002c 04D0     		beq	.L42
 235:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         {
 236:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             targetP->registration = tv_sec;
 607              		.loc 1 236 0
 608 002e 3A69     		ldr	r2, [r7, #16]
 609 0030 D7E90234 		ldrd	r3, [r7, #8]
 610 0034 C2E90434 		strd	r3, [r2, #16]
 611              	.L42:
 237:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         }
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 16


 238:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         if (packet != NULL && packet->code == COAP_201_CREATED)
 612              		.loc 1 238 0
 613 0038 7B69     		ldr	r3, [r7, #20]
 614 003a 002B     		cmp	r3, #0
 615 003c 19D0     		beq	.L43
 616              		.loc 1 238 0 is_stmt 0 discriminator 1
 617 003e 7B69     		ldr	r3, [r7, #20]
 618 0040 9B79     		ldrb	r3, [r3, #6]	@ zero_extendqisi2
 619 0042 412B     		cmp	r3, #65
 620 0044 15D1     		bne	.L43
 239:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         {
 240:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             targetP->status = STATE_REGISTERED;
 621              		.loc 1 240 0 is_stmt 1
 622 0046 3B69     		ldr	r3, [r7, #16]
 623 0048 0222     		movs	r2, #2
 624 004a 83F82020 		strb	r2, [r3, #32]
 241:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (NULL != targetP->location)
 625              		.loc 1 241 0
 626 004e 3B69     		ldr	r3, [r7, #16]
 627 0050 5B6A     		ldr	r3, [r3, #36]
 628 0052 002B     		cmp	r3, #0
 629 0054 04D0     		beq	.L44
 242:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
 243:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 lwm2m_free(targetP->location);
 630              		.loc 1 243 0
 631 0056 3B69     		ldr	r3, [r7, #16]
 632 0058 5B6A     		ldr	r3, [r3, #36]
 633 005a 1846     		mov	r0, r3
 634 005c FFF7FEFF 		bl	lwm2m_free
 635              	.L44:
 244:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
 245:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             targetP->location = coap_get_multi_option_as_string(packet->location_path);
 636              		.loc 1 245 0
 637 0060 7B69     		ldr	r3, [r7, #20]
 638 0062 5B6B     		ldr	r3, [r3, #52]
 639 0064 1846     		mov	r0, r3
 640 0066 FFF7FEFF 		bl	coap_get_multi_option_as_string
 641 006a 0246     		mov	r2, r0
 642 006c 3B69     		ldr	r3, [r7, #16]
 643 006e 5A62     		str	r2, [r3, #36]
 644              	.LBE2:
 246:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 247:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             LOG("Registration successful");
 248:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         }
 249:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         else
 250:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         {
 251:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             targetP->status = STATE_REG_FAILED;
 252:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             LOG("Registration failed");
 253:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         }
 254:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 255:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** }
 645              		.loc 1 255 0
 646 0070 03E0     		b	.L45
 647              	.L43:
 648              	.LBB3:
 251:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             LOG("Registration failed");
 649              		.loc 1 251 0
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 17


 650 0072 3B69     		ldr	r3, [r7, #16]
 651 0074 0322     		movs	r2, #3
 652 0076 83F82020 		strb	r2, [r3, #32]
 653              	.L45:
 654              	.LBE3:
 655              		.loc 1 255 0
 656 007a 00BF     		nop
 657 007c 1C37     		adds	r7, r7, #28
 658              	.LCFI13:
 659              		.cfi_def_cfa_offset 12
 660 007e BD46     		mov	sp, r7
 661              	.LCFI14:
 662              		.cfi_def_cfa_register 13
 663              		@ sp needed
 664 0080 90BD     		pop	{r4, r7, pc}
 665              		.cfi_endproc
 666              	.LFE136:
 668              		.section	.rodata
 669 004d 000000   		.align	2
 670              	.LC9:
 671 0050 2F726400 		.ascii	"/rd\000"
 672              		.section	.text.prv_register,"ax",%progbits
 673              		.align	1
 674              		.syntax unified
 675              		.thumb
 676              		.thumb_func
 677              		.fpu fpv4-sp-d16
 679              	prv_register:
 680              	.LFB137:
 256:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 257:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** // send the registration for a single server
 258:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** static uint8_t prv_register(lwm2m_context_t *contextP,
 259:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                             lwm2m_server_t *server)
 260:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** {
 681              		.loc 1 260 0
 682              		.cfi_startproc
 683              		@ args = 0, pretend = 0, frame = 32
 684              		@ frame_needed = 1, uses_anonymous_args = 0
 685 0000 80B5     		push	{r7, lr}
 686              	.LCFI15:
 687              		.cfi_def_cfa_offset 8
 688              		.cfi_offset 7, -8
 689              		.cfi_offset 14, -4
 690 0002 8CB0     		sub	sp, sp, #48
 691              	.LCFI16:
 692              		.cfi_def_cfa_offset 56
 693 0004 04AF     		add	r7, sp, #16
 694              	.LCFI17:
 695              		.cfi_def_cfa 7, 40
 696 0006 7860     		str	r0, [r7, #4]
 697 0008 3960     		str	r1, [r7]
 261:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     char *query;
 262:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     int query_length;
 263:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     uint8_t *payload;
 264:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     int payload_length;
 265:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     lwm2m_transaction_t *transaction;
 266:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 18


 267:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     payload_length = object_getRegisterPayloadBufferLength(contextP);
 698              		.loc 1 267 0
 699 000a 7868     		ldr	r0, [r7, #4]
 700 000c FFF7FEFF 		bl	object_getRegisterPayloadBufferLength
 701 0010 F861     		str	r0, [r7, #28]
 268:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if(payload_length == 0) return COAP_500_INTERNAL_SERVER_ERROR;
 702              		.loc 1 268 0
 703 0012 FB69     		ldr	r3, [r7, #28]
 704 0014 002B     		cmp	r3, #0
 705 0016 01D1     		bne	.L47
 706              		.loc 1 268 0 is_stmt 0 discriminator 1
 707 0018 A023     		movs	r3, #160
 708 001a BFE0     		b	.L48
 709              	.L47:
 269:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     payload = lwm2m_malloc(payload_length);
 710              		.loc 1 269 0 is_stmt 1
 711 001c FB69     		ldr	r3, [r7, #28]
 712 001e 1846     		mov	r0, r3
 713 0020 FFF7FEFF 		bl	lwm2m_malloc
 714 0024 B861     		str	r0, [r7, #24]
 270:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if(!payload) return COAP_500_INTERNAL_SERVER_ERROR;
 715              		.loc 1 270 0
 716 0026 BB69     		ldr	r3, [r7, #24]
 717 0028 002B     		cmp	r3, #0
 718 002a 01D1     		bne	.L49
 719              		.loc 1 270 0 is_stmt 0 discriminator 1
 720 002c A023     		movs	r3, #160
 721 002e B5E0     		b	.L48
 722              	.L49:
 271:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     payload_length = object_getRegisterPayload(contextP, payload, payload_length);
 723              		.loc 1 271 0 is_stmt 1
 724 0030 FB69     		ldr	r3, [r7, #28]
 725 0032 1A46     		mov	r2, r3
 726 0034 B969     		ldr	r1, [r7, #24]
 727 0036 7868     		ldr	r0, [r7, #4]
 728 0038 FFF7FEFF 		bl	object_getRegisterPayload
 729 003c F861     		str	r0, [r7, #28]
 272:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if(payload_length == 0)
 730              		.loc 1 272 0
 731 003e FB69     		ldr	r3, [r7, #28]
 732 0040 002B     		cmp	r3, #0
 733 0042 04D1     		bne	.L50
 273:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 274:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         lwm2m_free(payload);
 734              		.loc 1 274 0
 735 0044 B869     		ldr	r0, [r7, #24]
 736 0046 FFF7FEFF 		bl	lwm2m_free
 275:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         return COAP_500_INTERNAL_SERVER_ERROR;
 737              		.loc 1 275 0
 738 004a A023     		movs	r3, #160
 739 004c A6E0     		b	.L48
 740              	.L50:
 276:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 277:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 278:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     query_length = prv_getRegistrationQueryLength(contextP, server);
 741              		.loc 1 278 0
 742 004e 3968     		ldr	r1, [r7]
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 19


 743 0050 7868     		ldr	r0, [r7, #4]
 744 0052 FFF7FEFF 		bl	prv_getRegistrationQueryLength
 745 0056 7861     		str	r0, [r7, #20]
 279:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if(query_length == 0)
 746              		.loc 1 279 0
 747 0058 7B69     		ldr	r3, [r7, #20]
 748 005a 002B     		cmp	r3, #0
 749 005c 04D1     		bne	.L51
 280:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 281:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         lwm2m_free(payload);
 750              		.loc 1 281 0
 751 005e B869     		ldr	r0, [r7, #24]
 752 0060 FFF7FEFF 		bl	lwm2m_free
 282:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         return COAP_500_INTERNAL_SERVER_ERROR;
 753              		.loc 1 282 0
 754 0064 A023     		movs	r3, #160
 755 0066 99E0     		b	.L48
 756              	.L51:
 283:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 284:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     query = lwm2m_malloc(query_length);
 757              		.loc 1 284 0
 758 0068 7B69     		ldr	r3, [r7, #20]
 759 006a 1846     		mov	r0, r3
 760 006c FFF7FEFF 		bl	lwm2m_malloc
 761 0070 3861     		str	r0, [r7, #16]
 285:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if(!query)
 762              		.loc 1 285 0
 763 0072 3B69     		ldr	r3, [r7, #16]
 764 0074 002B     		cmp	r3, #0
 765 0076 04D1     		bne	.L52
 286:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 287:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         lwm2m_free(payload);
 766              		.loc 1 287 0
 767 0078 B869     		ldr	r0, [r7, #24]
 768 007a FFF7FEFF 		bl	lwm2m_free
 288:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         return COAP_500_INTERNAL_SERVER_ERROR;
 769              		.loc 1 288 0
 770 007e A023     		movs	r3, #160
 771 0080 8CE0     		b	.L48
 772              	.L52:
 289:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 290:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if(prv_getRegistrationQuery(contextP, server, query, query_length) != query_length)
 773              		.loc 1 290 0
 774 0082 7B69     		ldr	r3, [r7, #20]
 775 0084 3A69     		ldr	r2, [r7, #16]
 776 0086 3968     		ldr	r1, [r7]
 777 0088 7868     		ldr	r0, [r7, #4]
 778 008a FFF7FEFF 		bl	prv_getRegistrationQuery
 779 008e 0246     		mov	r2, r0
 780 0090 7B69     		ldr	r3, [r7, #20]
 781 0092 9342     		cmp	r3, r2
 782 0094 07D0     		beq	.L53
 291:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 292:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         lwm2m_free(payload);
 783              		.loc 1 292 0
 784 0096 B869     		ldr	r0, [r7, #24]
 785 0098 FFF7FEFF 		bl	lwm2m_free
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 20


 293:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         lwm2m_free(query);
 786              		.loc 1 293 0
 787 009c 3869     		ldr	r0, [r7, #16]
 788 009e FFF7FEFF 		bl	lwm2m_free
 294:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         return COAP_500_INTERNAL_SERVER_ERROR;
 789              		.loc 1 294 0
 790 00a2 A023     		movs	r3, #160
 791 00a4 7AE0     		b	.L48
 792              	.L53:
 295:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 296:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 297:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (server->sessionH == NULL)
 793              		.loc 1 297 0
 794 00a6 3B68     		ldr	r3, [r7]
 795 00a8 DB69     		ldr	r3, [r3, #28]
 796 00aa 002B     		cmp	r3, #0
 797 00ac 0AD1     		bne	.L54
 298:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 299:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         server->sessionH = lwm2m_connect_server(server->secObjInstID, contextP->userData, false);
 798              		.loc 1 299 0
 799 00ae 3B68     		ldr	r3, [r7]
 800 00b0 9888     		ldrh	r0, [r3, #4]
 801 00b2 7B68     		ldr	r3, [r7, #4]
 802 00b4 5B6B     		ldr	r3, [r3, #52]
 803 00b6 0022     		movs	r2, #0
 804 00b8 1946     		mov	r1, r3
 805 00ba FFF7FEFF 		bl	lwm2m_connect_server
 806 00be 0246     		mov	r2, r0
 807 00c0 3B68     		ldr	r3, [r7]
 808 00c2 DA61     		str	r2, [r3, #28]
 809              	.L54:
 300:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 301:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 302:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (NULL == server->sessionH)
 810              		.loc 1 302 0
 811 00c4 3B68     		ldr	r3, [r7]
 812 00c6 DB69     		ldr	r3, [r3, #28]
 813 00c8 002B     		cmp	r3, #0
 814 00ca 07D1     		bne	.L55
 303:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 304:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         lwm2m_free(payload);
 815              		.loc 1 304 0
 816 00cc B869     		ldr	r0, [r7, #24]
 817 00ce FFF7FEFF 		bl	lwm2m_free
 305:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         lwm2m_free(query);
 818              		.loc 1 305 0
 819 00d2 3869     		ldr	r0, [r7, #16]
 820 00d4 FFF7FEFF 		bl	lwm2m_free
 306:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         return COAP_503_SERVICE_UNAVAILABLE;
 821              		.loc 1 306 0
 822 00d8 A323     		movs	r3, #163
 823 00da 5FE0     		b	.L48
 824              	.L55:
 307:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 308:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 309:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     transaction = transaction_new(server->sessionH, COAP_POST, NULL, NULL, contextP->nextMID++, 4, 
 825              		.loc 1 309 0
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 21


 826 00dc 3B68     		ldr	r3, [r7]
 827 00de D869     		ldr	r0, [r3, #28]
 828 00e0 7B68     		ldr	r3, [r7, #4]
 829 00e2 9B8D     		ldrh	r3, [r3, #44]
 830 00e4 5A1C     		adds	r2, r3, #1
 831 00e6 91B2     		uxth	r1, r2
 832 00e8 7A68     		ldr	r2, [r7, #4]
 833 00ea 9185     		strh	r1, [r2, #44]	@ movhi
 834 00ec 0022     		movs	r2, #0
 835 00ee 0292     		str	r2, [sp, #8]
 836 00f0 0422     		movs	r2, #4
 837 00f2 0192     		str	r2, [sp, #4]
 838 00f4 0093     		str	r3, [sp]
 839 00f6 0023     		movs	r3, #0
 840 00f8 0022     		movs	r2, #0
 841 00fa 0221     		movs	r1, #2
 842 00fc FFF7FEFF 		bl	transaction_new
 843 0100 F860     		str	r0, [r7, #12]
 310:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (transaction == NULL)
 844              		.loc 1 310 0
 845 0102 FB68     		ldr	r3, [r7, #12]
 846 0104 002B     		cmp	r3, #0
 847 0106 07D1     		bne	.L56
 311:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 312:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         lwm2m_free(payload);
 848              		.loc 1 312 0
 849 0108 B869     		ldr	r0, [r7, #24]
 850 010a FFF7FEFF 		bl	lwm2m_free
 313:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         lwm2m_free(query);
 851              		.loc 1 313 0
 852 010e 3869     		ldr	r0, [r7, #16]
 853 0110 FFF7FEFF 		bl	lwm2m_free
 314:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         return COAP_503_SERVICE_UNAVAILABLE;
 854              		.loc 1 314 0
 855 0114 A323     		movs	r3, #163
 856 0116 41E0     		b	.L48
 857              	.L56:
 315:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 316:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     //    coap_pdu_t *pdu = (coap_pdu_t *)(transaction->message);
 317:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 318:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     coap_set_header_uri_path(transaction->message, "/"URI_REGISTRATION_SEGMENT);
 858              		.loc 1 318 0
 859 0118 FB68     		ldr	r3, [r7, #12]
 860 011a 9B6A     		ldr	r3, [r3, #40]
 861 011c 2149     		ldr	r1, .L58
 862 011e 1846     		mov	r0, r3
 863 0120 FFF7FEFF 		bl	coap_set_header_uri_path
 319:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     coap_set_header_uri_query(transaction->message, query);
 864              		.loc 1 319 0
 865 0124 FB68     		ldr	r3, [r7, #12]
 866 0126 9B6A     		ldr	r3, [r3, #40]
 867 0128 3969     		ldr	r1, [r7, #16]
 868 012a 1846     		mov	r0, r3
 869 012c FFF7FEFF 		bl	coap_set_header_uri_query
 320:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     coap_set_header_content_type(transaction->message, LWM2M_CONTENT_LINK);
 870              		.loc 1 320 0
 871 0130 FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 22


 872 0132 9B6A     		ldr	r3, [r3, #40]
 873 0134 2821     		movs	r1, #40
 874 0136 1846     		mov	r0, r3
 875 0138 FFF7FEFF 		bl	coap_set_header_content_type
 321:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     coap_set_payload(transaction->message, payload, payload_length);
 876              		.loc 1 321 0
 877 013c FB68     		ldr	r3, [r7, #12]
 878 013e 9B6A     		ldr	r3, [r3, #40]
 879 0140 FA69     		ldr	r2, [r7, #28]
 880 0142 B969     		ldr	r1, [r7, #24]
 881 0144 1846     		mov	r0, r3
 882 0146 FFF7FEFF 		bl	coap_set_payload
 322:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 323:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     transaction->callback = prv_handleRegistrationReply;
 883              		.loc 1 323 0
 884 014a FB68     		ldr	r3, [r7, #12]
 885 014c 164A     		ldr	r2, .L58+4
 886 014e 1A64     		str	r2, [r3, #64]
 324:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     transaction->userData = (void *) server;
 887              		.loc 1 324 0
 888 0150 FB68     		ldr	r3, [r7, #12]
 889 0152 3A68     		ldr	r2, [r7]
 890 0154 5A64     		str	r2, [r3, #68]
 325:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 326:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     contextP->transactionList = (lwm2m_transaction_t *)LWM2M_LIST_ADD(contextP->transactionList, tr
 891              		.loc 1 326 0
 892 0156 7B68     		ldr	r3, [r7, #4]
 893 0158 1B6B     		ldr	r3, [r3, #48]
 894 015a F968     		ldr	r1, [r7, #12]
 895 015c 1846     		mov	r0, r3
 896 015e FFF7FEFF 		bl	lwm2m_list_add
 897 0162 0246     		mov	r2, r0
 898 0164 7B68     		ldr	r3, [r7, #4]
 899 0166 1A63     		str	r2, [r3, #48]
 327:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (transaction_send(contextP, transaction) != 0)
 900              		.loc 1 327 0
 901 0168 F968     		ldr	r1, [r7, #12]
 902 016a 7868     		ldr	r0, [r7, #4]
 903 016c FFF7FEFF 		bl	transaction_send
 904 0170 0346     		mov	r3, r0
 905 0172 002B     		cmp	r3, #0
 906 0174 07D0     		beq	.L57
 328:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 329:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         lwm2m_free(payload);
 907              		.loc 1 329 0
 908 0176 B869     		ldr	r0, [r7, #24]
 909 0178 FFF7FEFF 		bl	lwm2m_free
 330:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         lwm2m_free(query);
 910              		.loc 1 330 0
 911 017c 3869     		ldr	r0, [r7, #16]
 912 017e FFF7FEFF 		bl	lwm2m_free
 331:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         return COAP_503_SERVICE_UNAVAILABLE;
 913              		.loc 1 331 0
 914 0182 A323     		movs	r3, #163
 915 0184 0AE0     		b	.L48
 916              	.L57:
 332:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 23


 333:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 334:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     lwm2m_free(payload);
 917              		.loc 1 334 0
 918 0186 B869     		ldr	r0, [r7, #24]
 919 0188 FFF7FEFF 		bl	lwm2m_free
 335:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     lwm2m_free(query);
 920              		.loc 1 335 0
 921 018c 3869     		ldr	r0, [r7, #16]
 922 018e FFF7FEFF 		bl	lwm2m_free
 336:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 337:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     server->status = STATE_REG_PENDING;
 923              		.loc 1 337 0
 924 0192 3B68     		ldr	r3, [r7]
 925 0194 0122     		movs	r2, #1
 926 0196 83F82020 		strb	r2, [r3, #32]
 338:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 339:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     return COAP_NO_ERROR;
 927              		.loc 1 339 0
 928 019a 0023     		movs	r3, #0
 929              	.L48:
 340:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** }
 930              		.loc 1 340 0
 931 019c 1846     		mov	r0, r3
 932 019e 2037     		adds	r7, r7, #32
 933              	.LCFI18:
 934              		.cfi_def_cfa_offset 8
 935 01a0 BD46     		mov	sp, r7
 936              	.LCFI19:
 937              		.cfi_def_cfa_register 13
 938              		@ sp needed
 939 01a2 80BD     		pop	{r7, pc}
 940              	.L59:
 941              		.align	2
 942              	.L58:
 943 01a4 50000000 		.word	.LC9
 944 01a8 00000000 		.word	prv_handleRegistrationReply
 945              		.cfi_endproc
 946              	.LFE137:
 948              		.section	.text.prv_handleRegistrationUpdateReply,"ax",%progbits
 949              		.align	1
 950              		.syntax unified
 951              		.thumb
 952              		.thumb_func
 953              		.fpu fpv4-sp-d16
 955              	prv_handleRegistrationUpdateReply:
 956              	.LFB138:
 341:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 342:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** static void prv_handleRegistrationUpdateReply(lwm2m_transaction_t *transacP,
 343:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         void *message)
 344:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** {
 957              		.loc 1 344 0
 958              		.cfi_startproc
 959              		@ args = 0, pretend = 0, frame = 24
 960              		@ frame_needed = 1, uses_anonymous_args = 0
 961 0000 90B5     		push	{r4, r7, lr}
 962              	.LCFI20:
 963              		.cfi_def_cfa_offset 12
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 24


 964              		.cfi_offset 4, -12
 965              		.cfi_offset 7, -8
 966              		.cfi_offset 14, -4
 967 0002 87B0     		sub	sp, sp, #28
 968              	.LCFI21:
 969              		.cfi_def_cfa_offset 40
 970 0004 00AF     		add	r7, sp, #0
 971              	.LCFI22:
 972              		.cfi_def_cfa_register 7
 973 0006 7860     		str	r0, [r7, #4]
 974 0008 3960     		str	r1, [r7]
 345:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     coap_packet_t *packet = (coap_packet_t *)message;
 975              		.loc 1 345 0
 976 000a 3B68     		ldr	r3, [r7]
 977 000c 7B61     		str	r3, [r7, #20]
 346:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     lwm2m_server_t *targetP = (lwm2m_server_t *)(transacP->userData);
 978              		.loc 1 346 0
 979 000e 7B68     		ldr	r3, [r7, #4]
 980 0010 5B6C     		ldr	r3, [r3, #68]
 981 0012 3B61     		str	r3, [r7, #16]
 347:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 348:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (targetP->status == STATE_REG_UPDATE_PENDING)
 982              		.loc 1 348 0
 983 0014 3B69     		ldr	r3, [r7, #16]
 984 0016 93F82030 		ldrb	r3, [r3, #32]	@ zero_extendqisi2
 985 001a 042B     		cmp	r3, #4
 986 001c 1CD1     		bne	.L64
 987              	.LBB4:
 349:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 350:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         time_t tv_sec = lwm2m_gettime();
 988              		.loc 1 350 0
 989 001e FFF7FEFF 		bl	lwm2m_gettime
 990 0022 C7E90201 		strd	r0, [r7, #8]
 351:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         if (tv_sec )
 991              		.loc 1 351 0
 992 0026 D7E90234 		ldrd	r3, [r7, #8]
 993 002a 2343     		orrs	r3, r3, r4
 994 002c 04D0     		beq	.L62
 352:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         {
 353:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             targetP->registration = tv_sec;
 995              		.loc 1 353 0
 996 002e 3A69     		ldr	r2, [r7, #16]
 997 0030 D7E90234 		ldrd	r3, [r7, #8]
 998 0034 C2E90434 		strd	r3, [r2, #16]
 999              	.L62:
 354:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         }
 355:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         if (packet != NULL && packet->code == COAP_204_CHANGED)
 1000              		.loc 1 355 0
 1001 0038 7B69     		ldr	r3, [r7, #20]
 1002 003a 002B     		cmp	r3, #0
 1003 003c 08D0     		beq	.L63
 1004              		.loc 1 355 0 is_stmt 0 discriminator 1
 1005 003e 7B69     		ldr	r3, [r7, #20]
 1006 0040 9B79     		ldrb	r3, [r3, #6]	@ zero_extendqisi2
 1007 0042 442B     		cmp	r3, #68
 1008 0044 04D1     		bne	.L63
 356:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         {
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 25


 357:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             targetP->status = STATE_REGISTERED;
 1009              		.loc 1 357 0 is_stmt 1
 1010 0046 3B69     		ldr	r3, [r7, #16]
 1011 0048 0222     		movs	r2, #2
 1012 004a 83F82020 		strb	r2, [r3, #32]
 1013              	.LBE4:
 358:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             LOG("Registration update successful");
 359:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         }
 360:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         else
 361:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         {
 362:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             targetP->status = STATE_REG_FAILED;
 363:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             LOG("Registration update failed");
 364:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         }
 365:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 366:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** }
 1014              		.loc 1 366 0
 1015 004e 03E0     		b	.L64
 1016              	.L63:
 1017              	.LBB5:
 362:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             LOG("Registration update failed");
 1018              		.loc 1 362 0
 1019 0050 3B69     		ldr	r3, [r7, #16]
 1020 0052 0322     		movs	r2, #3
 1021 0054 83F82020 		strb	r2, [r3, #32]
 1022              	.L64:
 1023              	.LBE5:
 1024              		.loc 1 366 0
 1025 0058 00BF     		nop
 1026 005a 1C37     		adds	r7, r7, #28
 1027              	.LCFI23:
 1028              		.cfi_def_cfa_offset 12
 1029 005c BD46     		mov	sp, r7
 1030              	.LCFI24:
 1031              		.cfi_def_cfa_register 13
 1032              		@ sp needed
 1033 005e 90BD     		pop	{r4, r7, pc}
 1034              		.cfi_endproc
 1035              	.LFE138:
 1037              		.section	.text.prv_updateRegistration,"ax",%progbits
 1038              		.align	1
 1039              		.syntax unified
 1040              		.thumb
 1041              		.thumb_func
 1042              		.fpu fpv4-sp-d16
 1044              	prv_updateRegistration:
 1045              	.LFB139:
 367:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 368:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** static int prv_updateRegistration(lwm2m_context_t *contextP,
 369:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                                   lwm2m_server_t *server,
 370:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                                   bool withObjects)
 371:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** {
 1046              		.loc 1 371 0
 1047              		.cfi_startproc
 1048              		@ args = 0, pretend = 0, frame = 32
 1049              		@ frame_needed = 1, uses_anonymous_args = 0
 1050 0000 80B5     		push	{r7, lr}
 1051              	.LCFI25:
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 26


 1052              		.cfi_def_cfa_offset 8
 1053              		.cfi_offset 7, -8
 1054              		.cfi_offset 14, -4
 1055 0002 8CB0     		sub	sp, sp, #48
 1056              	.LCFI26:
 1057              		.cfi_def_cfa_offset 56
 1058 0004 04AF     		add	r7, sp, #16
 1059              	.LCFI27:
 1060              		.cfi_def_cfa 7, 40
 1061 0006 F860     		str	r0, [r7, #12]
 1062 0008 B960     		str	r1, [r7, #8]
 1063 000a 1346     		mov	r3, r2
 1064 000c FB71     		strb	r3, [r7, #7]
 372:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     lwm2m_transaction_t *transaction;
 373:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     uint8_t *payload = NULL;
 1065              		.loc 1 373 0
 1066 000e 0023     		movs	r3, #0
 1067 0010 FB61     		str	r3, [r7, #28]
 374:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     int payload_length;
 375:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 376:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     transaction = transaction_new(server->sessionH, COAP_POST, NULL, NULL, contextP->nextMID++, 4, 
 1068              		.loc 1 376 0
 1069 0012 BB68     		ldr	r3, [r7, #8]
 1070 0014 D869     		ldr	r0, [r3, #28]
 1071 0016 FB68     		ldr	r3, [r7, #12]
 1072 0018 9B8D     		ldrh	r3, [r3, #44]
 1073 001a 5A1C     		adds	r2, r3, #1
 1074 001c 91B2     		uxth	r1, r2
 1075 001e FA68     		ldr	r2, [r7, #12]
 1076 0020 9185     		strh	r1, [r2, #44]	@ movhi
 1077 0022 0022     		movs	r2, #0
 1078 0024 0292     		str	r2, [sp, #8]
 1079 0026 0422     		movs	r2, #4
 1080 0028 0192     		str	r2, [sp, #4]
 1081 002a 0093     		str	r3, [sp]
 1082 002c 0023     		movs	r3, #0
 1083 002e 0022     		movs	r2, #0
 1084 0030 0221     		movs	r1, #2
 1085 0032 FFF7FEFF 		bl	transaction_new
 1086 0036 B861     		str	r0, [r7, #24]
 377:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (transaction == NULL) return COAP_500_INTERNAL_SERVER_ERROR;
 1087              		.loc 1 377 0
 1088 0038 BB69     		ldr	r3, [r7, #24]
 1089 003a 002B     		cmp	r3, #0
 1090 003c 01D1     		bne	.L66
 1091              		.loc 1 377 0 is_stmt 0 discriminator 1
 1092 003e A023     		movs	r3, #160
 1093 0040 5DE0     		b	.L67
 1094              	.L66:
 378:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 379:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     coap_set_header_uri_path(transaction->message, server->location);
 1095              		.loc 1 379 0 is_stmt 1
 1096 0042 BB69     		ldr	r3, [r7, #24]
 1097 0044 9A6A     		ldr	r2, [r3, #40]
 1098 0046 BB68     		ldr	r3, [r7, #8]
 1099 0048 5B6A     		ldr	r3, [r3, #36]
 1100 004a 1946     		mov	r1, r3
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 27


 1101 004c 1046     		mov	r0, r2
 1102 004e FFF7FEFF 		bl	coap_set_header_uri_path
 380:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 381:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (withObjects == true)
 1103              		.loc 1 381 0
 1104 0052 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1105 0054 002B     		cmp	r3, #0
 1106 0056 31D0     		beq	.L68
 382:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 383:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         payload_length = object_getRegisterPayloadBufferLength(contextP);
 1107              		.loc 1 383 0
 1108 0058 F868     		ldr	r0, [r7, #12]
 1109 005a FFF7FEFF 		bl	object_getRegisterPayloadBufferLength
 1110 005e 7861     		str	r0, [r7, #20]
 384:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         if(payload_length == 0)
 1111              		.loc 1 384 0
 1112 0060 7B69     		ldr	r3, [r7, #20]
 1113 0062 002B     		cmp	r3, #0
 1114 0064 04D1     		bne	.L69
 385:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         {
 386:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             transaction_free(transaction);
 1115              		.loc 1 386 0
 1116 0066 B869     		ldr	r0, [r7, #24]
 1117 0068 FFF7FEFF 		bl	transaction_free
 387:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             return COAP_500_INTERNAL_SERVER_ERROR;
 1118              		.loc 1 387 0
 1119 006c A023     		movs	r3, #160
 1120 006e 46E0     		b	.L67
 1121              	.L69:
 388:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         }
 389:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 390:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         payload = lwm2m_malloc(payload_length);
 1122              		.loc 1 390 0
 1123 0070 7B69     		ldr	r3, [r7, #20]
 1124 0072 1846     		mov	r0, r3
 1125 0074 FFF7FEFF 		bl	lwm2m_malloc
 1126 0078 F861     		str	r0, [r7, #28]
 391:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         if(!payload)
 1127              		.loc 1 391 0
 1128 007a FB69     		ldr	r3, [r7, #28]
 1129 007c 002B     		cmp	r3, #0
 1130 007e 04D1     		bne	.L70
 392:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         {
 393:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             transaction_free(transaction);
 1131              		.loc 1 393 0
 1132 0080 B869     		ldr	r0, [r7, #24]
 1133 0082 FFF7FEFF 		bl	transaction_free
 394:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             return COAP_500_INTERNAL_SERVER_ERROR;
 1134              		.loc 1 394 0
 1135 0086 A023     		movs	r3, #160
 1136 0088 39E0     		b	.L67
 1137              	.L70:
 395:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         }
 396:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 397:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         payload_length = object_getRegisterPayload(contextP, payload, payload_length);
 1138              		.loc 1 397 0
 1139 008a 7B69     		ldr	r3, [r7, #20]
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 28


 1140 008c 1A46     		mov	r2, r3
 1141 008e F969     		ldr	r1, [r7, #28]
 1142 0090 F868     		ldr	r0, [r7, #12]
 1143 0092 FFF7FEFF 		bl	object_getRegisterPayload
 1144 0096 7861     		str	r0, [r7, #20]
 398:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         if(payload_length == 0)
 1145              		.loc 1 398 0
 1146 0098 7B69     		ldr	r3, [r7, #20]
 1147 009a 002B     		cmp	r3, #0
 1148 009c 07D1     		bne	.L71
 399:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         {
 400:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             transaction_free(transaction);
 1149              		.loc 1 400 0
 1150 009e B869     		ldr	r0, [r7, #24]
 1151 00a0 FFF7FEFF 		bl	transaction_free
 401:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             lwm2m_free(payload);
 1152              		.loc 1 401 0
 1153 00a4 F869     		ldr	r0, [r7, #28]
 1154 00a6 FFF7FEFF 		bl	lwm2m_free
 402:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             return COAP_500_INTERNAL_SERVER_ERROR;
 1155              		.loc 1 402 0
 1156 00aa A023     		movs	r3, #160
 1157 00ac 27E0     		b	.L67
 1158              	.L71:
 403:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         }
 404:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         coap_set_payload(transaction->message, payload, payload_length);
 1159              		.loc 1 404 0
 1160 00ae BB69     		ldr	r3, [r7, #24]
 1161 00b0 9B6A     		ldr	r3, [r3, #40]
 1162 00b2 7A69     		ldr	r2, [r7, #20]
 1163 00b4 F969     		ldr	r1, [r7, #28]
 1164 00b6 1846     		mov	r0, r3
 1165 00b8 FFF7FEFF 		bl	coap_set_payload
 1166              	.L68:
 405:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 406:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 407:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     transaction->callback = prv_handleRegistrationUpdateReply;
 1167              		.loc 1 407 0
 1168 00bc BB69     		ldr	r3, [r7, #24]
 1169 00be 124A     		ldr	r2, .L74
 1170 00c0 1A64     		str	r2, [r3, #64]
 408:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     transaction->userData = (void *) server;
 1171              		.loc 1 408 0
 1172 00c2 BB69     		ldr	r3, [r7, #24]
 1173 00c4 BA68     		ldr	r2, [r7, #8]
 1174 00c6 5A64     		str	r2, [r3, #68]
 409:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 410:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     contextP->transactionList = (lwm2m_transaction_t *)LWM2M_LIST_ADD(contextP->transactionList, tr
 1175              		.loc 1 410 0
 1176 00c8 FB68     		ldr	r3, [r7, #12]
 1177 00ca 1B6B     		ldr	r3, [r3, #48]
 1178 00cc B969     		ldr	r1, [r7, #24]
 1179 00ce 1846     		mov	r0, r3
 1180 00d0 FFF7FEFF 		bl	lwm2m_list_add
 1181 00d4 0246     		mov	r2, r0
 1182 00d6 FB68     		ldr	r3, [r7, #12]
 1183 00d8 1A63     		str	r2, [r3, #48]
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 29


 411:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 412:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (transaction_send(contextP, transaction) == 0)
 1184              		.loc 1 412 0
 1185 00da B969     		ldr	r1, [r7, #24]
 1186 00dc F868     		ldr	r0, [r7, #12]
 1187 00de FFF7FEFF 		bl	transaction_send
 1188 00e2 0346     		mov	r3, r0
 1189 00e4 002B     		cmp	r3, #0
 1190 00e6 03D1     		bne	.L72
 413:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 414:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         server->status = STATE_REG_UPDATE_PENDING;
 1191              		.loc 1 414 0
 1192 00e8 BB68     		ldr	r3, [r7, #8]
 1193 00ea 0422     		movs	r2, #4
 1194 00ec 83F82020 		strb	r2, [r3, #32]
 1195              	.L72:
 415:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 416:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 417:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (withObjects == true)
 1196              		.loc 1 417 0
 1197 00f0 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1198 00f2 002B     		cmp	r3, #0
 1199 00f4 02D0     		beq	.L73
 418:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 419:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         lwm2m_free(payload);
 1200              		.loc 1 419 0
 1201 00f6 F869     		ldr	r0, [r7, #28]
 1202 00f8 FFF7FEFF 		bl	lwm2m_free
 1203              	.L73:
 420:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 421:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 422:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     return COAP_NO_ERROR;
 1204              		.loc 1 422 0
 1205 00fc 0023     		movs	r3, #0
 1206              	.L67:
 423:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** }
 1207              		.loc 1 423 0
 1208 00fe 1846     		mov	r0, r3
 1209 0100 2037     		adds	r7, r7, #32
 1210              	.LCFI28:
 1211              		.cfi_def_cfa_offset 8
 1212 0102 BD46     		mov	sp, r7
 1213              	.LCFI29:
 1214              		.cfi_def_cfa_register 13
 1215              		@ sp needed
 1216 0104 80BD     		pop	{r7, pc}
 1217              	.L75:
 1218 0106 00BF     		.align	2
 1219              	.L74:
 1220 0108 00000000 		.word	prv_handleRegistrationUpdateReply
 1221              		.cfi_endproc
 1222              	.LFE139:
 1224              		.section	.text.lwm2m_update_registration,"ax",%progbits
 1225              		.align	1
 1226              		.global	lwm2m_update_registration
 1227              		.syntax unified
 1228              		.thumb
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 30


 1229              		.thumb_func
 1230              		.fpu fpv4-sp-d16
 1232              	lwm2m_update_registration:
 1233              	.LFB140:
 424:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 425:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** // update the registration of a given server
 426:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** int lwm2m_update_registration(lwm2m_context_t *contextP,
 427:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                               uint16_t shortServerID,
 428:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                               bool withObjects)
 429:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** {
 1234              		.loc 1 429 0
 1235              		.cfi_startproc
 1236              		@ args = 0, pretend = 0, frame = 16
 1237              		@ frame_needed = 1, uses_anonymous_args = 0
 1238 0000 80B5     		push	{r7, lr}
 1239              	.LCFI30:
 1240              		.cfi_def_cfa_offset 8
 1241              		.cfi_offset 7, -8
 1242              		.cfi_offset 14, -4
 1243 0002 84B0     		sub	sp, sp, #16
 1244              	.LCFI31:
 1245              		.cfi_def_cfa_offset 24
 1246 0004 00AF     		add	r7, sp, #0
 1247              	.LCFI32:
 1248              		.cfi_def_cfa_register 7
 1249 0006 7860     		str	r0, [r7, #4]
 1250 0008 0B46     		mov	r3, r1
 1251 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 1252 000c 1346     		mov	r3, r2
 1253 000e 7B70     		strb	r3, [r7, #1]
 430:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     lwm2m_server_t *targetP;
 431:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     uint8_t result;
 432:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 433:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     LOG_ARG("State: %s, shortServerID: %d", STR_STATE(contextP->state), shortServerID);
 434:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 435:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     result = COAP_NO_ERROR;
 1254              		.loc 1 435 0
 1255 0010 0023     		movs	r3, #0
 1256 0012 FB72     		strb	r3, [r7, #11]
 436:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 437:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     targetP = contextP->serverList;
 1257              		.loc 1 437 0
 1258 0014 7B68     		ldr	r3, [r7, #4]
 1259 0016 5B69     		ldr	r3, [r3, #20]
 1260 0018 FB60     		str	r3, [r7, #12]
 438:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (targetP == NULL)
 1261              		.loc 1 438 0
 1262 001a FB68     		ldr	r3, [r7, #12]
 1263 001c 002B     		cmp	r3, #0
 1264 001e 57D1     		bne	.L79
 439:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 440:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         if (object_getServers(contextP, false) == -1)
 1265              		.loc 1 440 0
 1266 0020 0021     		movs	r1, #0
 1267 0022 7868     		ldr	r0, [r7, #4]
 1268 0024 FFF7FEFF 		bl	object_getServers
 1269 0028 0346     		mov	r3, r0
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 31


 1270 002a B3F1FF3F 		cmp	r3, #-1
 1271 002e 4FD1     		bne	.L79
 441:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         {
 442:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             LOG("No server found");
 443:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             return COAP_404_NOT_FOUND;
 1272              		.loc 1 443 0
 1273 0030 8423     		movs	r3, #132
 1274 0032 5CE0     		b	.L78
 1275              	.L92:
 444:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         }
 445:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 446:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     while (targetP != NULL && result == COAP_NO_ERROR)
 447:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 448:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         if (shortServerID != 0)
 1276              		.loc 1 448 0
 1277 0034 7B88     		ldrh	r3, [r7, #2]
 1278 0036 002B     		cmp	r3, #0
 1279 0038 31D0     		beq	.L80
 449:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         {
 450:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (targetP->shortID == shortServerID)
 1280              		.loc 1 450 0
 1281 003a FB68     		ldr	r3, [r7, #12]
 1282 003c DB88     		ldrh	r3, [r3, #6]
 1283 003e 7A88     		ldrh	r2, [r7, #2]
 1284 0040 9A42     		cmp	r2, r3
 1285 0042 42D1     		bne	.L81
 451:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
 452:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 // found the server, trigger the update transaction
 453:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 if (targetP->status == STATE_REGISTERED
 1286              		.loc 1 453 0
 1287 0044 FB68     		ldr	r3, [r7, #12]
 1288 0046 93F82030 		ldrb	r3, [r3, #32]	@ zero_extendqisi2
 1289 004a 022B     		cmp	r3, #2
 1290 004c 04D0     		beq	.L82
 454:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                         || targetP->status == STATE_REG_UPDATE_PENDING)
 1291              		.loc 1 454 0
 1292 004e FB68     		ldr	r3, [r7, #12]
 1293 0050 93F82030 		ldrb	r3, [r3, #32]	@ zero_extendqisi2
 1294 0054 042B     		cmp	r3, #4
 1295 0056 0DD1     		bne	.L83
 1296              	.L82:
 455:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 {
 456:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     if (withObjects == true)
 1297              		.loc 1 456 0
 1298 0058 7B78     		ldrb	r3, [r7, #1]	@ zero_extendqisi2
 1299 005a 002B     		cmp	r3, #0
 1300 005c 04D0     		beq	.L84
 457:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     {
 458:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                         targetP->status = STATE_REG_FULL_UPDATE_NEEDED;
 1301              		.loc 1 458 0
 1302 005e FB68     		ldr	r3, [r7, #12]
 1303 0060 0622     		movs	r2, #6
 1304 0062 83F82020 		strb	r2, [r3, #32]
 1305 0066 03E0     		b	.L85
 1306              	.L84:
 459:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     }
 460:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     else
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 32


 461:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     {
 462:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                         targetP->status = STATE_REG_UPDATE_NEEDED;
 1307              		.loc 1 462 0
 1308 0068 FB68     		ldr	r3, [r7, #12]
 1309 006a 0522     		movs	r2, #5
 1310 006c 83F82020 		strb	r2, [r3, #32]
 1311              	.L85:
 463:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     }
 464:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     return COAP_NO_ERROR;
 1312              		.loc 1 464 0
 1313 0070 0023     		movs	r3, #0
 1314 0072 3CE0     		b	.L78
 1315              	.L83:
 465:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 }
 466:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 else if ((targetP->status == STATE_REG_FULL_UPDATE_NEEDED)
 1316              		.loc 1 466 0
 1317 0074 FB68     		ldr	r3, [r7, #12]
 1318 0076 93F82030 		ldrb	r3, [r3, #32]	@ zero_extendqisi2
 1319 007a 062B     		cmp	r3, #6
 1320 007c 04D0     		beq	.L86
 467:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                          || (targetP->status == STATE_REG_UPDATE_NEEDED))
 1321              		.loc 1 467 0
 1322 007e FB68     		ldr	r3, [r7, #12]
 1323 0080 93F82030 		ldrb	r3, [r3, #32]	@ zero_extendqisi2
 1324 0084 052B     		cmp	r3, #5
 1325 0086 08D1     		bne	.L87
 1326              	.L86:
 468:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 {
 469:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     // if REG (FULL) UPDATE is already set, returns COAP_NO_ERROR
 470:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     if (withObjects == true)
 1327              		.loc 1 470 0
 1328 0088 7B78     		ldrb	r3, [r7, #1]	@ zero_extendqisi2
 1329 008a 002B     		cmp	r3, #0
 1330 008c 03D0     		beq	.L88
 471:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     {
 472:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                         targetP->status = STATE_REG_FULL_UPDATE_NEEDED;
 1331              		.loc 1 472 0
 1332 008e FB68     		ldr	r3, [r7, #12]
 1333 0090 0622     		movs	r2, #6
 1334 0092 83F82020 		strb	r2, [r3, #32]
 1335              	.L88:
 473:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     }
 474:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     return COAP_NO_ERROR;
 1336              		.loc 1 474 0
 1337 0096 0023     		movs	r3, #0
 1338 0098 29E0     		b	.L78
 1339              	.L87:
 475:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 }
 476:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 else
 477:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 {
 478:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     return COAP_400_BAD_REQUEST;
 1340              		.loc 1 478 0
 1341 009a 8023     		movs	r3, #128
 1342 009c 27E0     		b	.L78
 1343              	.L80:
 479:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 }
 480:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 33


 481:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         }
 482:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         else
 483:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         {
 484:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (targetP->status == STATE_REGISTERED
 1344              		.loc 1 484 0
 1345 009e FB68     		ldr	r3, [r7, #12]
 1346 00a0 93F82030 		ldrb	r3, [r3, #32]	@ zero_extendqisi2
 1347 00a4 022B     		cmp	r3, #2
 1348 00a6 04D0     		beq	.L89
 485:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     || targetP->status == STATE_REG_UPDATE_PENDING)
 1349              		.loc 1 485 0
 1350 00a8 FB68     		ldr	r3, [r7, #12]
 1351 00aa 93F82030 		ldrb	r3, [r3, #32]	@ zero_extendqisi2
 1352 00ae 042B     		cmp	r3, #4
 1353 00b0 0BD1     		bne	.L81
 1354              	.L89:
 486:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
 487:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 if (withObjects == true)
 1355              		.loc 1 487 0
 1356 00b2 7B78     		ldrb	r3, [r7, #1]	@ zero_extendqisi2
 1357 00b4 002B     		cmp	r3, #0
 1358 00b6 04D0     		beq	.L90
 488:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 {
 489:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     targetP->status = STATE_REG_FULL_UPDATE_NEEDED;
 1359              		.loc 1 489 0
 1360 00b8 FB68     		ldr	r3, [r7, #12]
 1361 00ba 0622     		movs	r2, #6
 1362 00bc 83F82020 		strb	r2, [r3, #32]
 1363 00c0 03E0     		b	.L81
 1364              	.L90:
 490:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 }
 491:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 else
 492:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 {
 493:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     targetP->status = STATE_REG_UPDATE_NEEDED;
 1365              		.loc 1 493 0
 1366 00c2 FB68     		ldr	r3, [r7, #12]
 1367 00c4 0522     		movs	r2, #5
 1368 00c6 83F82020 		strb	r2, [r3, #32]
 1369              	.L81:
 494:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 }
 495:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
 496:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         }
 497:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         targetP = targetP->next;
 1370              		.loc 1 497 0
 1371 00ca FB68     		ldr	r3, [r7, #12]
 1372 00cc 1B68     		ldr	r3, [r3]
 1373 00ce FB60     		str	r3, [r7, #12]
 1374              	.L79:
 446:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 1375              		.loc 1 446 0
 1376 00d0 FB68     		ldr	r3, [r7, #12]
 1377 00d2 002B     		cmp	r3, #0
 1378 00d4 02D0     		beq	.L91
 446:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 1379              		.loc 1 446 0 is_stmt 0 discriminator 1
 1380 00d6 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1381 00d8 002B     		cmp	r3, #0
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 34


 1382 00da ABD0     		beq	.L92
 1383              	.L91:
 498:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 499:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 500:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (shortServerID != 0
 1384              		.loc 1 500 0 is_stmt 1
 1385 00dc 7B88     		ldrh	r3, [r7, #2]
 1386 00de 002B     		cmp	r3, #0
 1387 00e0 04D0     		beq	.L93
 501:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             && targetP == NULL)
 1388              		.loc 1 501 0
 1389 00e2 FB68     		ldr	r3, [r7, #12]
 1390 00e4 002B     		cmp	r3, #0
 1391 00e6 01D1     		bne	.L93
 502:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 503:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         // no server found
 504:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         result = COAP_404_NOT_FOUND;
 1392              		.loc 1 504 0
 1393 00e8 8423     		movs	r3, #132
 1394 00ea FB72     		strb	r3, [r7, #11]
 1395              	.L93:
 505:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 506:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 507:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     return result;
 1396              		.loc 1 507 0
 1397 00ec FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1398              	.L78:
 508:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** }
 1399              		.loc 1 508 0
 1400 00ee 1846     		mov	r0, r3
 1401 00f0 1037     		adds	r7, r7, #16
 1402              	.LCFI33:
 1403              		.cfi_def_cfa_offset 8
 1404 00f2 BD46     		mov	sp, r7
 1405              	.LCFI34:
 1406              		.cfi_def_cfa_register 13
 1407              		@ sp needed
 1408 00f4 80BD     		pop	{r7, pc}
 1409              		.cfi_endproc
 1410              	.LFE140:
 1412              		.section	.text.registration_start,"ax",%progbits
 1413              		.align	1
 1414              		.global	registration_start
 1415              		.syntax unified
 1416              		.thumb
 1417              		.thumb_func
 1418              		.fpu fpv4-sp-d16
 1420              	registration_start:
 1421              	.LFB141:
 509:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** //serverlistobjectlist
 510:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** uint8_t registration_start(lwm2m_context_t *contextP)
 511:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** {
 1422              		.loc 1 511 0
 1423              		.cfi_startproc
 1424              		@ args = 0, pretend = 0, frame = 16
 1425              		@ frame_needed = 1, uses_anonymous_args = 0
 1426 0000 80B5     		push	{r7, lr}
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 35


 1427              	.LCFI35:
 1428              		.cfi_def_cfa_offset 8
 1429              		.cfi_offset 7, -8
 1430              		.cfi_offset 14, -4
 1431 0002 84B0     		sub	sp, sp, #16
 1432              	.LCFI36:
 1433              		.cfi_def_cfa_offset 24
 1434 0004 00AF     		add	r7, sp, #0
 1435              	.LCFI37:
 1436              		.cfi_def_cfa_register 7
 1437 0006 7860     		str	r0, [r7, #4]
 512:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     lwm2m_server_t *targetP;
 513:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     uint8_t result;
 514:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 515:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     LOG_ARG("State: %s", STR_STATE(contextP->state));
 516:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 517:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     result = COAP_NO_ERROR;
 1438              		.loc 1 517 0
 1439 0008 0023     		movs	r3, #0
 1440 000a FB72     		strb	r3, [r7, #11]
 518:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 519:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     targetP = contextP->serverList;
 1441              		.loc 1 519 0
 1442 000c 7B68     		ldr	r3, [r7, #4]
 1443 000e 5B69     		ldr	r3, [r3, #20]
 1444 0010 FB60     		str	r3, [r7, #12]
 520:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     while (targetP != NULL && result == COAP_NO_ERROR)
 1445              		.loc 1 520 0
 1446 0012 12E0     		b	.L95
 1447              	.L99:
 521:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 522:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         if (targetP->status == STATE_DEREGISTERED
 1448              		.loc 1 522 0
 1449 0014 FB68     		ldr	r3, [r7, #12]
 1450 0016 93F82030 		ldrb	r3, [r3, #32]	@ zero_extendqisi2
 1451 001a 002B     		cmp	r3, #0
 1452 001c 04D0     		beq	.L96
 523:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 || targetP->status == STATE_REG_FAILED)
 1453              		.loc 1 523 0
 1454 001e FB68     		ldr	r3, [r7, #12]
 1455 0020 93F82030 		ldrb	r3, [r3, #32]	@ zero_extendqisi2
 1456 0024 032B     		cmp	r3, #3
 1457 0026 05D1     		bne	.L97
 1458              	.L96:
 524:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         {
 525:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             result = prv_register(contextP, targetP);
 1459              		.loc 1 525 0
 1460 0028 F968     		ldr	r1, [r7, #12]
 1461 002a 7868     		ldr	r0, [r7, #4]
 1462 002c FFF7FEFF 		bl	prv_register
 1463 0030 0346     		mov	r3, r0
 1464 0032 FB72     		strb	r3, [r7, #11]
 1465              	.L97:
 526:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         }
 527:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         targetP = targetP->next;
 1466              		.loc 1 527 0
 1467 0034 FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 36


 1468 0036 1B68     		ldr	r3, [r3]
 1469 0038 FB60     		str	r3, [r7, #12]
 1470              	.L95:
 520:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 1471              		.loc 1 520 0
 1472 003a FB68     		ldr	r3, [r7, #12]
 1473 003c 002B     		cmp	r3, #0
 1474 003e 02D0     		beq	.L98
 520:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 1475              		.loc 1 520 0 is_stmt 0 discriminator 1
 1476 0040 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1477 0042 002B     		cmp	r3, #0
 1478 0044 E6D0     		beq	.L99
 1479              	.L98:
 528:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 529:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 530:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     return result;
 1480              		.loc 1 530 0 is_stmt 1
 1481 0046 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 531:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** }
 1482              		.loc 1 531 0
 1483 0048 1846     		mov	r0, r3
 1484 004a 1037     		adds	r7, r7, #16
 1485              	.LCFI38:
 1486              		.cfi_def_cfa_offset 8
 1487 004c BD46     		mov	sp, r7
 1488              	.LCFI39:
 1489              		.cfi_def_cfa_register 13
 1490              		@ sp needed
 1491 004e 80BD     		pop	{r7, pc}
 1492              		.cfi_endproc
 1493              	.LFE141:
 1495              		.section	.text.registration_getStatus,"ax",%progbits
 1496              		.align	1
 1497              		.global	registration_getStatus
 1498              		.syntax unified
 1499              		.thumb
 1500              		.thumb_func
 1501              		.fpu fpv4-sp-d16
 1503              	registration_getStatus:
 1504              	.LFB142:
 532:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 533:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 534:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** /*
 535:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * Returns STATE_REG_PENDING if at least one registration is still pending
 536:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * Returns STATE_REGISTERED if no registration is pending and there is at least one server the clie
 537:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  * Returns STATE_REG_FAILED if all registration failed.
 538:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****  */
 539:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** lwm2m_status_t registration_getStatus(lwm2m_context_t *contextP)
 540:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** {
 1505              		.loc 1 540 0
 1506              		.cfi_startproc
 1507              		@ args = 0, pretend = 0, frame = 16
 1508              		@ frame_needed = 1, uses_anonymous_args = 0
 1509              		@ link register save eliminated.
 1510 0000 80B4     		push	{r7}
 1511              	.LCFI40:
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 37


 1512              		.cfi_def_cfa_offset 4
 1513              		.cfi_offset 7, -4
 1514 0002 85B0     		sub	sp, sp, #20
 1515              	.LCFI41:
 1516              		.cfi_def_cfa_offset 24
 1517 0004 00AF     		add	r7, sp, #0
 1518              	.LCFI42:
 1519              		.cfi_def_cfa_register 7
 1520 0006 7860     		str	r0, [r7, #4]
 541:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     lwm2m_server_t *targetP;
 542:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     lwm2m_status_t reg_status;
 543:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 544:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     LOG_ARG("State: %s", STR_STATE(contextP->state));
 545:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 546:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     targetP = contextP->serverList;
 1521              		.loc 1 546 0
 1522 0008 7B68     		ldr	r3, [r7, #4]
 1523 000a 5B69     		ldr	r3, [r3, #20]
 1524 000c FB60     		str	r3, [r7, #12]
 547:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     reg_status = STATE_REG_FAILED;
 1525              		.loc 1 547 0
 1526 000e 0323     		movs	r3, #3
 1527 0010 FB72     		strb	r3, [r7, #11]
 548:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 549:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     while (targetP != NULL)
 1528              		.loc 1 549 0
 1529 0012 24E0     		b	.L102
 1530              	.L109:
 550:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 551:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         LOG_ARG("targetP->status: %s", STR_STATUS(targetP->status));
 552:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         switch (targetP->status)
 1531              		.loc 1 552 0
 1532 0014 FB68     		ldr	r3, [r7, #12]
 1533 0016 93F82030 		ldrb	r3, [r3, #32]	@ zero_extendqisi2
 1534 001a 013B     		subs	r3, r3, #1
 1535 001c 052B     		cmp	r3, #5
 1536 001e 18D8     		bhi	.L111
 1537 0020 01A2     		adr	r2, .L105
 1538 0022 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 1539 0026 00BF     		.p2align 2
 1540              	.L105:
 1541 0028 4D000000 		.word	.L104+1
 1542 002c 41000000 		.word	.L106+1
 1543 0030 53000000 		.word	.L111+1
 1544 0034 41000000 		.word	.L106+1
 1545 0038 41000000 		.word	.L106+1
 1546 003c 41000000 		.word	.L106+1
 1547              		.p2align 1
 1548              	.L106:
 553:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         {
 554:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         case STATE_REGISTERED:
 555:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         case STATE_REG_UPDATE_NEEDED:
 556:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         case STATE_REG_FULL_UPDATE_NEEDED:
 557:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         case STATE_REG_UPDATE_PENDING:
 558:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (reg_status == STATE_REG_FAILED)
 1549              		.loc 1 558 0
 1550 0040 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 38


 1551 0042 032B     		cmp	r3, #3
 1552 0044 07D1     		bne	.L112
 559:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
 560:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 reg_status = STATE_REGISTERED;
 1553              		.loc 1 560 0
 1554 0046 0223     		movs	r3, #2
 1555 0048 FB72     		strb	r3, [r7, #11]
 561:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
 562:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             break;
 1556              		.loc 1 562 0
 1557 004a 04E0     		b	.L112
 1558              	.L104:
 563:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 564:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         case STATE_REG_PENDING:
 565:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             reg_status = STATE_REG_PENDING;
 1559              		.loc 1 565 0
 1560 004c 0123     		movs	r3, #1
 1561 004e FB72     		strb	r3, [r7, #11]
 566:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             break;
 1562              		.loc 1 566 0
 1563 0050 02E0     		b	.L108
 1564              	.L111:
 567:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 568:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         case STATE_REG_FAILED:
 569:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         case STATE_DEREG_PENDING:
 570:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         case STATE_DEREGISTERED:
 571:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         default:
 572:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             break;
 1565              		.loc 1 572 0
 1566 0052 00BF     		nop
 1567 0054 00E0     		b	.L108
 1568              	.L112:
 562:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 1569              		.loc 1 562 0
 1570 0056 00BF     		nop
 1571              	.L108:
 573:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         }
 574:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         LOG_ARG("reg_status: %s", STR_STATUS(reg_status));
 575:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 576:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         targetP = targetP->next;
 1572              		.loc 1 576 0
 1573 0058 FB68     		ldr	r3, [r7, #12]
 1574 005a 1B68     		ldr	r3, [r3]
 1575 005c FB60     		str	r3, [r7, #12]
 1576              	.L102:
 549:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 1577              		.loc 1 549 0
 1578 005e FB68     		ldr	r3, [r7, #12]
 1579 0060 002B     		cmp	r3, #0
 1580 0062 D7D1     		bne	.L109
 577:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 578:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 579:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     return reg_status;
 1581              		.loc 1 579 0
 1582 0064 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 580:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** }
 1583              		.loc 1 580 0
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 39


 1584 0066 1846     		mov	r0, r3
 1585 0068 1437     		adds	r7, r7, #20
 1586              	.LCFI43:
 1587              		.cfi_def_cfa_offset 4
 1588 006a BD46     		mov	sp, r7
 1589              	.LCFI44:
 1590              		.cfi_def_cfa_register 13
 1591              		@ sp needed
 1592 006c 5DF8047B 		ldr	r7, [sp], #4
 1593              	.LCFI45:
 1594              		.cfi_restore 7
 1595              		.cfi_def_cfa_offset 0
 1596 0070 7047     		bx	lr
 1597              		.cfi_endproc
 1598              	.LFE142:
 1600 0072 00BF     		.section	.text.prv_handleDeregistrationReply,"ax",%progbits
 1601              		.align	1
 1602              		.syntax unified
 1603              		.thumb
 1604              		.thumb_func
 1605              		.fpu fpv4-sp-d16
 1607              	prv_handleDeregistrationReply:
 1608              	.LFB143:
 581:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 582:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** static void prv_handleDeregistrationReply(lwm2m_transaction_t *transacP,
 583:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         void *message)
 584:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** {
 1609              		.loc 1 584 0
 1610              		.cfi_startproc
 1611              		@ args = 0, pretend = 0, frame = 16
 1612              		@ frame_needed = 1, uses_anonymous_args = 0
 1613              		@ link register save eliminated.
 1614 0000 80B4     		push	{r7}
 1615              	.LCFI46:
 1616              		.cfi_def_cfa_offset 4
 1617              		.cfi_offset 7, -4
 1618 0002 85B0     		sub	sp, sp, #20
 1619              	.LCFI47:
 1620              		.cfi_def_cfa_offset 24
 1621 0004 00AF     		add	r7, sp, #0
 1622              	.LCFI48:
 1623              		.cfi_def_cfa_register 7
 1624 0006 7860     		str	r0, [r7, #4]
 1625 0008 3960     		str	r1, [r7]
 585:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     lwm2m_server_t *targetP;
 586:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 587:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     targetP = (lwm2m_server_t *)(transacP->userData);
 1626              		.loc 1 587 0
 1627 000a 7B68     		ldr	r3, [r7, #4]
 1628 000c 5B6C     		ldr	r3, [r3, #68]
 1629 000e FB60     		str	r3, [r7, #12]
 588:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (NULL != targetP)
 1630              		.loc 1 588 0
 1631 0010 FB68     		ldr	r3, [r7, #12]
 1632 0012 002B     		cmp	r3, #0
 1633 0014 08D0     		beq	.L115
 589:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 40


 590:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         if (targetP->status == STATE_DEREG_PENDING)
 1634              		.loc 1 590 0
 1635 0016 FB68     		ldr	r3, [r7, #12]
 1636 0018 93F82030 		ldrb	r3, [r3, #32]	@ zero_extendqisi2
 1637 001c 072B     		cmp	r3, #7
 1638 001e 03D1     		bne	.L115
 591:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         {
 592:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             targetP->status = STATE_DEREGISTERED;
 1639              		.loc 1 592 0
 1640 0020 FB68     		ldr	r3, [r7, #12]
 1641 0022 0022     		movs	r2, #0
 1642 0024 83F82020 		strb	r2, [r3, #32]
 1643              	.L115:
 593:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         }
 594:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 595:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** }
 1644              		.loc 1 595 0
 1645 0028 00BF     		nop
 1646 002a 1437     		adds	r7, r7, #20
 1647              	.LCFI49:
 1648              		.cfi_def_cfa_offset 4
 1649 002c BD46     		mov	sp, r7
 1650              	.LCFI50:
 1651              		.cfi_def_cfa_register 13
 1652              		@ sp needed
 1653 002e 5DF8047B 		ldr	r7, [sp], #4
 1654              	.LCFI51:
 1655              		.cfi_restore 7
 1656              		.cfi_def_cfa_offset 0
 1657 0032 7047     		bx	lr
 1658              		.cfi_endproc
 1659              	.LFE143:
 1661              		.section	.text.registration_deregister,"ax",%progbits
 1662              		.align	1
 1663              		.global	registration_deregister
 1664              		.syntax unified
 1665              		.thumb
 1666              		.thumb_func
 1667              		.fpu fpv4-sp-d16
 1669              	registration_deregister:
 1670              	.LFB144:
 596:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 597:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** void registration_deregister(lwm2m_context_t *contextP,
 598:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                              lwm2m_server_t *serverP)
 599:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** {
 1671              		.loc 1 599 0
 1672              		.cfi_startproc
 1673              		@ args = 0, pretend = 0, frame = 16
 1674              		@ frame_needed = 1, uses_anonymous_args = 0
 1675 0000 80B5     		push	{r7, lr}
 1676              	.LCFI52:
 1677              		.cfi_def_cfa_offset 8
 1678              		.cfi_offset 7, -8
 1679              		.cfi_offset 14, -4
 1680 0002 88B0     		sub	sp, sp, #32
 1681              	.LCFI53:
 1682              		.cfi_def_cfa_offset 40
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 41


 1683 0004 04AF     		add	r7, sp, #16
 1684              	.LCFI54:
 1685              		.cfi_def_cfa 7, 24
 1686 0006 7860     		str	r0, [r7, #4]
 1687 0008 3960     		str	r1, [r7]
 600:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     lwm2m_transaction_t *transaction;
 601:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 602:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     LOG_ARG("State: %s, serverP->status: %s", STR_STATE(contextP->state), STR_STATUS(serverP->statu
 603:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 604:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (serverP->status == STATE_DEREGISTERED
 1688              		.loc 1 604 0
 1689 000a 3B68     		ldr	r3, [r7]
 1690 000c 93F82030 		ldrb	r3, [r3, #32]	@ zero_extendqisi2
 1691 0010 002B     		cmp	r3, #0
 1692 0012 4BD0     		beq	.L121
 605:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             || serverP->status == STATE_REG_PENDING
 1693              		.loc 1 605 0
 1694 0014 3B68     		ldr	r3, [r7]
 1695 0016 93F82030 		ldrb	r3, [r3, #32]	@ zero_extendqisi2
 1696 001a 012B     		cmp	r3, #1
 1697 001c 46D0     		beq	.L121
 606:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             || serverP->status == STATE_DEREG_PENDING
 1698              		.loc 1 606 0
 1699 001e 3B68     		ldr	r3, [r7]
 1700 0020 93F82030 		ldrb	r3, [r3, #32]	@ zero_extendqisi2
 1701 0024 072B     		cmp	r3, #7
 1702 0026 41D0     		beq	.L121
 607:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             || serverP->status == STATE_REG_FAILED
 1703              		.loc 1 607 0
 1704 0028 3B68     		ldr	r3, [r7]
 1705 002a 93F82030 		ldrb	r3, [r3, #32]	@ zero_extendqisi2
 1706 002e 032B     		cmp	r3, #3
 1707 0030 3CD0     		beq	.L121
 608:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             || serverP->location == NULL)
 1708              		.loc 1 608 0
 1709 0032 3B68     		ldr	r3, [r7]
 1710 0034 5B6A     		ldr	r3, [r3, #36]
 1711 0036 002B     		cmp	r3, #0
 1712 0038 38D0     		beq	.L121
 609:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 610:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         return;
 611:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 612:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 613:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     transaction = transaction_new(serverP->sessionH, COAP_DELETE, NULL, NULL, contextP->nextMID++, 
 1713              		.loc 1 613 0
 1714 003a 3B68     		ldr	r3, [r7]
 1715 003c D869     		ldr	r0, [r3, #28]
 1716 003e 7B68     		ldr	r3, [r7, #4]
 1717 0040 9B8D     		ldrh	r3, [r3, #44]
 1718 0042 5A1C     		adds	r2, r3, #1
 1719 0044 91B2     		uxth	r1, r2
 1720 0046 7A68     		ldr	r2, [r7, #4]
 1721 0048 9185     		strh	r1, [r2, #44]	@ movhi
 1722 004a 0022     		movs	r2, #0
 1723 004c 0292     		str	r2, [sp, #8]
 1724 004e 0422     		movs	r2, #4
 1725 0050 0192     		str	r2, [sp, #4]
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 42


 1726 0052 0093     		str	r3, [sp]
 1727 0054 0023     		movs	r3, #0
 1728 0056 0022     		movs	r2, #0
 1729 0058 0421     		movs	r1, #4
 1730 005a FFF7FEFF 		bl	transaction_new
 1731 005e F860     		str	r0, [r7, #12]
 614:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (transaction == NULL) return;
 1732              		.loc 1 614 0
 1733 0060 FB68     		ldr	r3, [r7, #12]
 1734 0062 002B     		cmp	r3, #0
 1735 0064 24D0     		beq	.L122
 615:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 616:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     coap_set_header_uri_path(transaction->message, serverP->location);
 1736              		.loc 1 616 0
 1737 0066 FB68     		ldr	r3, [r7, #12]
 1738 0068 9A6A     		ldr	r2, [r3, #40]
 1739 006a 3B68     		ldr	r3, [r7]
 1740 006c 5B6A     		ldr	r3, [r3, #36]
 1741 006e 1946     		mov	r1, r3
 1742 0070 1046     		mov	r0, r2
 1743 0072 FFF7FEFF 		bl	coap_set_header_uri_path
 617:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 618:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     transaction->callback = prv_handleDeregistrationReply;
 1744              		.loc 1 618 0
 1745 0076 FB68     		ldr	r3, [r7, #12]
 1746 0078 0F4A     		ldr	r2, .L123
 1747 007a 1A64     		str	r2, [r3, #64]
 619:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     transaction->userData = (void *) serverP;
 1748              		.loc 1 619 0
 1749 007c FB68     		ldr	r3, [r7, #12]
 1750 007e 3A68     		ldr	r2, [r7]
 1751 0080 5A64     		str	r2, [r3, #68]
 620:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 621:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     contextP->transactionList = (lwm2m_transaction_t *)LWM2M_LIST_ADD(contextP->transactionList, tr
 1752              		.loc 1 621 0
 1753 0082 7B68     		ldr	r3, [r7, #4]
 1754 0084 1B6B     		ldr	r3, [r3, #48]
 1755 0086 F968     		ldr	r1, [r7, #12]
 1756 0088 1846     		mov	r0, r3
 1757 008a FFF7FEFF 		bl	lwm2m_list_add
 1758 008e 0246     		mov	r2, r0
 1759 0090 7B68     		ldr	r3, [r7, #4]
 1760 0092 1A63     		str	r2, [r3, #48]
 622:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (transaction_send(contextP, transaction) == 0)
 1761              		.loc 1 622 0
 1762 0094 F968     		ldr	r1, [r7, #12]
 1763 0096 7868     		ldr	r0, [r7, #4]
 1764 0098 FFF7FEFF 		bl	transaction_send
 1765 009c 0346     		mov	r3, r0
 1766 009e 002B     		cmp	r3, #0
 1767 00a0 07D1     		bne	.L116
 623:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 624:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         serverP->status = STATE_DEREG_PENDING;
 1768              		.loc 1 624 0
 1769 00a2 3B68     		ldr	r3, [r7]
 1770 00a4 0722     		movs	r2, #7
 1771 00a6 83F82020 		strb	r2, [r3, #32]
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 43


 1772 00aa 02E0     		b	.L116
 1773              	.L121:
 610:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 1774              		.loc 1 610 0
 1775 00ac 00BF     		nop
 1776 00ae 00E0     		b	.L116
 1777              	.L122:
 614:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 1778              		.loc 1 614 0
 1779 00b0 00BF     		nop
 1780              	.L116:
 625:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 626:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** }
 1781              		.loc 1 626 0
 1782 00b2 1037     		adds	r7, r7, #16
 1783              	.LCFI55:
 1784              		.cfi_def_cfa_offset 8
 1785 00b4 BD46     		mov	sp, r7
 1786              	.LCFI56:
 1787              		.cfi_def_cfa_register 13
 1788              		@ sp needed
 1789 00b6 80BD     		pop	{r7, pc}
 1790              	.L124:
 1791              		.align	2
 1792              	.L123:
 1793 00b8 00000000 		.word	prv_handleDeregistrationReply
 1794              		.cfi_endproc
 1795              	.LFE144:
 1797              		.section	.text.registration_reset,"ax",%progbits
 1798              		.align	1
 1799              		.global	registration_reset
 1800              		.syntax unified
 1801              		.thumb
 1802              		.thumb_func
 1803              		.fpu fpv4-sp-d16
 1805              	registration_reset:
 1806              	.LFB145:
 627:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 628:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** void registration_reset(lwm2m_context_t *contextP,
 629:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                         lwm2m_server_t *serverP)
 630:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** {
 1807              		.loc 1 630 0
 1808              		.cfi_startproc
 1809              		@ args = 0, pretend = 0, frame = 8
 1810              		@ frame_needed = 1, uses_anonymous_args = 0
 1811 0000 80B5     		push	{r7, lr}
 1812              	.LCFI57:
 1813              		.cfi_def_cfa_offset 8
 1814              		.cfi_offset 7, -8
 1815              		.cfi_offset 14, -4
 1816 0002 82B0     		sub	sp, sp, #8
 1817              	.LCFI58:
 1818              		.cfi_def_cfa_offset 16
 1819 0004 00AF     		add	r7, sp, #0
 1820              	.LCFI59:
 1821              		.cfi_def_cfa_register 7
 1822 0006 7860     		str	r0, [r7, #4]
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 44


 1823 0008 3960     		str	r1, [r7]
 631:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     //registration_deregister(contextP, serverP);
 632:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (serverP->sessionH != NULL)
 1824              		.loc 1 632 0
 1825 000a 3B68     		ldr	r3, [r7]
 1826 000c DB69     		ldr	r3, [r3, #28]
 1827 000e 002B     		cmp	r3, #0
 1828 0010 0AD0     		beq	.L126
 633:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 634:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         lwm2m_close_connection(serverP->sessionH, contextP->userData);
 1829              		.loc 1 634 0
 1830 0012 3B68     		ldr	r3, [r7]
 1831 0014 DA69     		ldr	r2, [r3, #28]
 1832 0016 7B68     		ldr	r3, [r7, #4]
 1833 0018 5B6B     		ldr	r3, [r3, #52]
 1834 001a 1946     		mov	r1, r3
 1835 001c 1046     		mov	r0, r2
 1836 001e FFF7FEFF 		bl	lwm2m_close_connection
 635:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         serverP->sessionH = NULL;
 1837              		.loc 1 635 0
 1838 0022 3B68     		ldr	r3, [r7]
 1839 0024 0022     		movs	r2, #0
 1840 0026 DA61     		str	r2, [r3, #28]
 1841              	.L126:
 636:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 637:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     serverP->status = STATE_DEREGISTERED;
 1842              		.loc 1 637 0
 1843 0028 3B68     		ldr	r3, [r7]
 1844 002a 0022     		movs	r2, #0
 1845 002c 83F82020 		strb	r2, [r3, #32]
 638:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** }
 1846              		.loc 1 638 0
 1847 0030 00BF     		nop
 1848 0032 0837     		adds	r7, r7, #8
 1849              	.LCFI60:
 1850              		.cfi_def_cfa_offset 8
 1851 0034 BD46     		mov	sp, r7
 1852              	.LCFI61:
 1853              		.cfi_def_cfa_register 13
 1854              		@ sp needed
 1855 0036 80BD     		pop	{r7, pc}
 1856              		.cfi_endproc
 1857              	.LFE145:
 1859              		.section	.text.registration_get_registered_server,"ax",%progbits
 1860              		.align	1
 1861              		.global	registration_get_registered_server
 1862              		.syntax unified
 1863              		.thumb
 1864              		.thumb_func
 1865              		.fpu fpv4-sp-d16
 1867              	registration_get_registered_server:
 1868              	.LFB146:
 639:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 640:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** lwm2m_server_t *registration_get_registered_server(lwm2m_context_t *contextP)
 641:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** {
 1869              		.loc 1 641 0
 1870              		.cfi_startproc
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 45


 1871              		@ args = 0, pretend = 0, frame = 16
 1872              		@ frame_needed = 1, uses_anonymous_args = 0
 1873              		@ link register save eliminated.
 1874 0000 80B4     		push	{r7}
 1875              	.LCFI62:
 1876              		.cfi_def_cfa_offset 4
 1877              		.cfi_offset 7, -4
 1878 0002 85B0     		sub	sp, sp, #20
 1879              	.LCFI63:
 1880              		.cfi_def_cfa_offset 24
 1881 0004 00AF     		add	r7, sp, #0
 1882              	.LCFI64:
 1883              		.cfi_def_cfa_register 7
 1884 0006 7860     		str	r0, [r7, #4]
 642:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     lwm2m_server_t *targetP;
 643:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 644:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if(NULL == contextP)
 1885              		.loc 1 644 0
 1886 0008 7B68     		ldr	r3, [r7, #4]
 1887 000a 002B     		cmp	r3, #0
 1888 000c 01D1     		bne	.L128
 645:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 646:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         LOG("null pointer");
 647:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         return NULL;
 1889              		.loc 1 647 0
 1890 000e 0023     		movs	r3, #0
 1891 0010 20E0     		b	.L129
 1892              	.L128:
 648:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 649:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 650:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     targetP = contextP->serverList;
 1893              		.loc 1 650 0
 1894 0012 7B68     		ldr	r3, [r7, #4]
 1895 0014 5B69     		ldr	r3, [r3, #20]
 1896 0016 FB60     		str	r3, [r7, #12]
 651:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     while (targetP != NULL)
 1897              		.loc 1 651 0
 1898 0018 18E0     		b	.L130
 1899              	.L133:
 652:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 653:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         if ((STATE_REGISTERED == targetP->status)
 1900              		.loc 1 653 0
 1901 001a FB68     		ldr	r3, [r7, #12]
 1902 001c 93F82030 		ldrb	r3, [r3, #32]	@ zero_extendqisi2
 1903 0020 022B     		cmp	r3, #2
 1904 0022 0ED0     		beq	.L131
 654:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 || (STATE_REG_UPDATE_PENDING == targetP->status)
 1905              		.loc 1 654 0
 1906 0024 FB68     		ldr	r3, [r7, #12]
 1907 0026 93F82030 		ldrb	r3, [r3, #32]	@ zero_extendqisi2
 1908 002a 042B     		cmp	r3, #4
 1909 002c 09D0     		beq	.L131
 655:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 || (STATE_REG_UPDATE_NEEDED == targetP->status)
 1910              		.loc 1 655 0
 1911 002e FB68     		ldr	r3, [r7, #12]
 1912 0030 93F82030 		ldrb	r3, [r3, #32]	@ zero_extendqisi2
 1913 0034 052B     		cmp	r3, #5
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 46


 1914 0036 04D0     		beq	.L131
 656:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 || (STATE_REG_FULL_UPDATE_NEEDED == targetP->status))
 1915              		.loc 1 656 0
 1916 0038 FB68     		ldr	r3, [r7, #12]
 1917 003a 93F82030 		ldrb	r3, [r3, #32]	@ zero_extendqisi2
 1918 003e 062B     		cmp	r3, #6
 1919 0040 01D1     		bne	.L132
 1920              	.L131:
 657:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         {
 658:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             return targetP;
 1921              		.loc 1 658 0
 1922 0042 FB68     		ldr	r3, [r7, #12]
 1923 0044 06E0     		b	.L129
 1924              	.L132:
 659:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         }
 660:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         targetP = targetP->next;
 1925              		.loc 1 660 0
 1926 0046 FB68     		ldr	r3, [r7, #12]
 1927 0048 1B68     		ldr	r3, [r3]
 1928 004a FB60     		str	r3, [r7, #12]
 1929              	.L130:
 651:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 1930              		.loc 1 651 0
 1931 004c FB68     		ldr	r3, [r7, #12]
 1932 004e 002B     		cmp	r3, #0
 1933 0050 E3D1     		bne	.L133
 661:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 662:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 663:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     return NULL;
 1934              		.loc 1 663 0
 1935 0052 0023     		movs	r3, #0
 1936              	.L129:
 664:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** }
 1937              		.loc 1 664 0
 1938 0054 1846     		mov	r0, r3
 1939 0056 1437     		adds	r7, r7, #20
 1940              	.LCFI65:
 1941              		.cfi_def_cfa_offset 4
 1942 0058 BD46     		mov	sp, r7
 1943              	.LCFI66:
 1944              		.cfi_def_cfa_register 13
 1945              		@ sp needed
 1946 005a 5DF8047B 		ldr	r7, [sp], #4
 1947              	.LCFI67:
 1948              		.cfi_restore 7
 1949              		.cfi_def_cfa_offset 0
 1950 005e 7047     		bx	lr
 1951              		.cfi_endproc
 1952              	.LFE146:
 1954              		.global	__aeabi_l2d
 1955              		.global	__aeabi_dcmpgt
 1956              		.global	__aeabi_dsub
 1957              		.global	__aeabi_d2lz
 1958              		.section	.text.registration_step,"ax",%progbits
 1959              		.align	1
 1960              		.global	registration_step
 1961              		.syntax unified
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 47


 1962              		.thumb
 1963              		.thumb_func
 1964              		.fpu fpv4-sp-d16
 1966              	registration_step:
 1967              	.LFB147:
 665:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 666:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** #endif
 667:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 668:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** #ifdef LWM2M_SERVER_MODE
 669:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** static void prv_freeClientObjectList(lwm2m_client_object_t *objects)
 670:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** {
 671:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     while (objects != NULL)
 672:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 673:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         lwm2m_client_object_t *objP;
 674:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 675:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         while (objects->instanceList != NULL)
 676:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         {
 677:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             lwm2m_list_t *target;
 678:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 679:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             target = objects->instanceList;
 680:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             objects->instanceList = objects->instanceList->next;
 681:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             lwm2m_free(target);
 682:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         }
 683:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 684:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         objP = objects;
 685:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         objects = objects->next;
 686:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         lwm2m_free(objP);
 687:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 688:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** }
 689:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 690:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** static int prv_getParameters(multi_option_t *query,
 691:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                              char **nameP,
 692:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                              uint32_t *lifetimeP,
 693:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                              char **msisdnP,
 694:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                              lwm2m_binding_t *bindingP,
 695:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                              char **versionP)
 696:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** {
 697:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     *nameP = NULL;
 698:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     *lifetimeP = 0;
 699:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     *msisdnP = NULL;
 700:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     *bindingP = BINDING_UNKNOWN;
 701:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     *versionP = NULL;
 702:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 703:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     while (query != NULL)
 704:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 705:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         if (lwm2m_strncmp((char *)query->data, QUERY_NAME, QUERY_NAME_LEN) == 0)
 706:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         {
 707:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (*nameP != NULL) goto error;
 708:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (query->len == QUERY_NAME_LEN) goto error;
 709:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 710:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             *nameP = (char *)lwm2m_malloc(query->len - QUERY_NAME_LEN + 1);
 711:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (*nameP != NULL)
 712:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
 713:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 memcpy(*nameP, query->data + QUERY_NAME_LEN, query->len - QUERY_NAME_LEN);
 714:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 (*nameP)[query->len - QUERY_NAME_LEN] = 0;
 715:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
 716:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         }
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 48


 717:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         else if (lwm2m_strncmp((char *)query->data, QUERY_SMS, QUERY_SMS_LEN) == 0)
 718:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         {
 719:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (*msisdnP != NULL) goto error;
 720:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (query->len == QUERY_SMS_LEN) goto error;
 721:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 722:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             *msisdnP = (char *)lwm2m_malloc(query->len - QUERY_SMS_LEN + 1);
 723:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (*msisdnP != NULL)
 724:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
 725:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 memcpy(*msisdnP, query->data + QUERY_SMS_LEN, query->len - QUERY_SMS_LEN);
 726:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 (*msisdnP)[query->len - QUERY_SMS_LEN] = 0;
 727:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
 728:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         }
 729:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         else if (lwm2m_strncmp((char *)query->data, QUERY_LIFETIME, QUERY_LIFETIME_LEN) == 0)
 730:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         {
 731:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             int i;
 732:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 733:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (*lifetimeP != 0) goto error;
 734:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (query->len == QUERY_LIFETIME_LEN) goto error;
 735:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 736:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             for (i = QUERY_LIFETIME_LEN ; i < query->len ; i++)
 737:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
 738:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 if (query->data[i] < '0' || query->data[i] > '9') goto error;
 739:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 *lifetimeP = (*lifetimeP * 10) + (query->data[i] - '0');
 740:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
 741:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         }
 742:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         else if (lwm2m_strncmp((char *)query->data, QUERY_VERSION, QUERY_VERSION_LEN) == 0)
 743:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         {
 744:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (*versionP != NULL) goto error;
 745:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (query->len == QUERY_VERSION_LEN) goto error;
 746:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 747:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             *versionP = (char *)lwm2m_malloc(query->len - QUERY_VERSION_LEN + 1);
 748:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (*versionP != NULL)
 749:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
 750:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 memcpy(*versionP, query->data + QUERY_VERSION_LEN, query->len - QUERY_VERSION_LEN);
 751:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 (*versionP)[query->len - QUERY_VERSION_LEN] = 0;
 752:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
 753:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         }
 754:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         else if (lwm2m_strncmp((char *)query->data, QUERY_BINDING, QUERY_BINDING_LEN) == 0)
 755:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         {
 756:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (*bindingP != BINDING_UNKNOWN) goto error;
 757:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (query->len == QUERY_BINDING_LEN) goto error;
 758:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 759:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             *bindingP = utils_stringToBinding(query->data + QUERY_BINDING_LEN, query->len - QUERY_B
 760:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         }
 761:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         query = query->next;
 762:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 763:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 764:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     return 0;
 765:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 766:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** error:
 767:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (*nameP != NULL) lwm2m_free(*nameP);
 768:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (*msisdnP != NULL) lwm2m_free(*msisdnP);
 769:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (*versionP != NULL) lwm2m_free(*versionP);
 770:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 771:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     return -1;
 772:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** }
 773:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 49


 774:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** static uint16_t prv_splitLinkAttribute(uint8_t *data,
 775:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                                        uint16_t length,
 776:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                                        uint16_t *keyStart,
 777:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                                        uint16_t *keyLength,
 778:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                                        uint16_t *valueStart,
 779:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                                        uint16_t *valueLength)
 780:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** {
 781:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     uint16_t index;
 782:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     uint16_t end;
 783:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 784:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     index = 0;
 785:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     while (index < length && data[index] == ' ') index++;
 786:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (index == length) return 0;
 787:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 788:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (data[index] == REG_ATTR_SEPARATOR)
 789:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 790:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         index++;
 791:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 792:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (index == length) return 0;
 793:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 794:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     *keyStart = index;
 795:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 796:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     while (index < length && data[index] != REG_ATTR_EQUALS) index++;
 797:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (index == *keyStart || index == length) return 0;
 798:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 799:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     *keyLength = index - *keyStart;
 800:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 801:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     index++;
 802:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     while (index < length && data[index] == ' ') index++;
 803:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (index == length) return 0;
 804:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 805:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     *valueStart = index;
 806:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 807:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     while (index < length && data[index] != REG_ATTR_SEPARATOR) index++;
 808:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     end = index;
 809:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 810:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     index--;
 811:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     while (index > *valueStart && data[index] == ' ') index--;
 812:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (index == *valueStart) return 0;
 813:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 814:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     *valueLength = index - *valueStart + 1;
 815:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 816:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     return end;
 817:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** }
 818:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 819:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** static int prv_parseLinkAttributes(uint8_t *data,
 820:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                                    uint16_t length,
 821:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                                    bool *supportJSON,
 822:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                                    char **altPath)
 823:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** {
 824:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     uint16_t index;
 825:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     uint16_t pathStart;
 826:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     uint16_t pathLength;
 827:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     bool isValid;
 828:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 829:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     isValid = false;
 830:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 50


 831:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     // Expecting application/link-format (RFC6690)
 832:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     // leading space were removed before. Remove trailing spaces.
 833:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     while (length > 0 && data[length - 1] == ' ') length--;
 834:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 835:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     // strip open tag
 836:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (length >= 2 && data[0] == REG_URI_START)
 837:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 838:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         data += 1;
 839:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         length -= 1;
 840:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 841:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     else
 842:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 843:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         return 0;
 844:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 845:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 846:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     pathStart = 0;
 847:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     index = length - 1;
 848:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     while (index > 0 && data[index] != REG_URI_END) index--;
 849:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     // link attributes are required
 850:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (index == 0 || index == length - 1) return 0;
 851:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 852:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     // If there is a preceding /, remove it
 853:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (data[pathStart] == '/')
 854:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 855:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         pathStart += 1;
 856:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 857:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     pathLength = index - pathStart;
 858:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 859:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     index++;
 860:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (index >= length || data[index] != REG_ATTR_SEPARATOR) return 0;
 861:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     index++;
 862:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 863:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     while (index < length)
 864:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 865:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         uint16_t result;
 866:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         uint16_t keyStart;
 867:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         uint16_t keyLength;
 868:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         uint16_t valueStart;
 869:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         uint16_t valueLength;
 870:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 871:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         result = prv_splitLinkAttribute(data + index, length - index, &keyStart, &keyLength, &value
 872:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         if (result == 0) return 0;
 873:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 874:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         if (keyLength == REG_ATTR_TYPE_KEY_LEN
 875:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 && 0 == lwm2m_strncmp(REG_ATTR_TYPE_KEY, (char *)data + index + keyStart, keyLength
 876:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         {
 877:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (isValid == true) return 0; // declared twice
 878:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (valueLength != REG_ATTR_TYPE_VALUE_LEN
 879:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     || 0 != lwm2m_strncmp(REG_ATTR_TYPE_VALUE, (char *)data + index + valueStart, v
 880:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
 881:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 return 0;
 882:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
 883:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             isValid = true;
 884:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         }
 885:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         else if (keyLength == REG_ATTR_CONTENT_KEY_LEN
 886:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                  && 0 == lwm2m_strncmp(REG_ATTR_CONTENT_KEY, (char *)data + index + keyStart, keyLe
 887:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         {
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 51


 888:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (*supportJSON == true) return 0; // declared twice
 889:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (valueLength == REG_ATTR_CONTENT_JSON_LEN
 890:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     && 0 == lwm2m_strncmp(REG_ATTR_CONTENT_JSON, (char *)data + index + valueStart,
 891:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
 892:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 *supportJSON = true;
 893:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
 894:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             else
 895:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
 896:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 return 0;
 897:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
 898:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         }
 899:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         // else ignore this one
 900:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 901:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         index += result;
 902:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 903:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 904:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (isValid == false) return 0;
 905:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 906:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (pathLength != 0)
 907:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 908:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         *altPath = (char *)lwm2m_malloc(pathLength + 1);
 909:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         if (*altPath == NULL) return 0;
 910:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         memcpy(*altPath, data + pathStart, pathLength);
 911:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         (*altPath)[pathLength] = 0;
 912:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 913:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 914:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     return 1;
 915:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** }
 916:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 917:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** static int prv_getId(uint8_t *data,
 918:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                      uint16_t length,
 919:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                      uint16_t *objId,
 920:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                      uint16_t *instanceId)
 921:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** {
 922:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     int value;
 923:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     uint16_t limit;
 924:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 925:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     // Expecting application/link-format (RFC6690)
 926:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     // leading space were removed before. Remove trailing spaces.
 927:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     while (length > 0 && data[length - 1] == ' ') length--;
 928:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 929:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     // strip open and close tags
 930:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (length >= 1 && data[0] == REG_URI_START && data[length - 1] == REG_URI_END)
 931:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 932:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         data += 1;
 933:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         length -= 2;
 934:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 935:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     else
 936:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 937:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         return 0;
 938:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 939:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 940:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     // If there is a preceding /, remove it
 941:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (length >= 1 && data[0] == '/')
 942:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 943:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         data += 1;
 944:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         length -= 1;
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 52


 945:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 946:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 947:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     limit = 0;
 948:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     while (limit < length && data[limit] != '/') limit++;
 949:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     value = uri_getNumber(data, limit);
 950:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (value < 0 || value >= LWM2M_MAX_ID) return 0;
 951:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     *objId = value;
 952:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 953:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (limit < length)
 954:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 955:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         limit += 1;
 956:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         data += limit;
 957:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         length -= limit;
 958:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 959:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         if (length > 0)
 960:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         {
 961:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             value = uri_getNumber(data, length);
 962:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (value >= 0 && value < LWM2M_MAX_ID)
 963:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
 964:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 *instanceId = value;
 965:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 return 2;
 966:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
 967:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             else
 968:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
 969:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 return 0;
 970:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
 971:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         }
 972:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
 973:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 974:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     return 1;
 975:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** }
 976:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 977:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** static lwm2m_client_object_t *prv_decodeRegisterPayload(uint8_t *payload,
 978:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         uint16_t payloadLength,
 979:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         bool *supportJSON,
 980:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         char **altPath)
 981:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** {
 982:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     uint16_t index;
 983:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     lwm2m_client_object_t *objList;
 984:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     bool linkAttrFound;
 985:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 986:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     *altPath = NULL;
 987:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     *supportJSON = false;
 988:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     objList = NULL;
 989:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     linkAttrFound = false;
 990:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     index = 0;
 991:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 992:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     while (index <= payloadLength)
 993:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 994:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         uint16_t start;
 995:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         uint16_t length;
 996:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         int result;
 997:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         uint16_t id;
 998:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         uint16_t instance;
 999:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1000:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         while (index < payloadLength && payload[index] == ' ') index++;
1001:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         if (index == payloadLength) break;
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 53


1002:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1003:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         start = index;
1004:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         while (index < payloadLength && payload[index] != REG_DELIMITER) index++;
1005:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         length = index - start;
1006:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1007:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         result = prv_getId(payload + start, length, &id, &instance);
1008:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         if (result != 0)
1009:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         {
1010:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             lwm2m_client_object_t *objectP;
1011:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1012:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             objectP = (lwm2m_client_object_t *)lwm2m_list_find((lwm2m_list_t *)objList, id);
1013:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (objectP == NULL)
1014:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
1015:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 objectP = (lwm2m_client_object_t *)lwm2m_malloc(sizeof(lwm2m_client_object_t));
1016:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 if (objectP == NULL) goto error;
1017:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 memset(objectP, 0, sizeof(lwm2m_client_object_t));
1018:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 objectP->id = id;
1019:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 objList = (lwm2m_client_object_t *)LWM2M_LIST_ADD(objList, objectP);
1020:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
1021:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (result == 2)
1022:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
1023:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 lwm2m_list_t *instanceP;
1024:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1025:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 instanceP = lwm2m_list_find(objectP->instanceList, instance);
1026:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 if (instanceP == NULL)
1027:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 {
1028:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     instanceP = (lwm2m_list_t *)lwm2m_malloc(sizeof(lwm2m_list_t));
1029:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     if(instanceP == NULL) goto error;
1030:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     memset(instanceP, 0, sizeof(lwm2m_list_t));
1031:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     instanceP->id = instance;
1032:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     objectP->instanceList = LWM2M_LIST_ADD(objectP->instanceList, instanceP);
1033:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 }
1034:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
1035:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         }
1036:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         else if (linkAttrFound == false)
1037:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         {
1038:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             result = prv_parseLinkAttributes(payload + start, length, supportJSON, altPath);
1039:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (result == 0) goto error;
1040:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1041:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             linkAttrFound = true;
1042:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         }
1043:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         else goto error;
1044:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1045:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         index++;
1046:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
1047:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1048:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     return objList;
1049:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1050:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** error:
1051:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (*altPath != NULL)
1052:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
1053:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         lwm2m_free(*altPath);
1054:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         *altPath = NULL;
1055:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
1056:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     prv_freeClientObjectList(objList);
1057:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1058:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     return NULL;
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 54


1059:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** }
1060:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1061:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** static lwm2m_client_t *prv_getClientByName(lwm2m_context_t *contextP,
1062:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         char *name)
1063:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** {
1064:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     lwm2m_client_t *targetP;
1065:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1066:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     targetP = contextP->clientList;
1067:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     while (targetP != NULL && strcmp(name, targetP->name) != 0)
1068:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
1069:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         targetP = targetP->next;
1070:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
1071:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1072:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     return targetP;
1073:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** }
1074:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1075:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** void registration_freeClient(lwm2m_client_t *clientP)
1076:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** {
1077:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     LOG("Entering");
1078:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (clientP->name != NULL) lwm2m_free(clientP->name);
1079:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (clientP->msisdn != NULL) lwm2m_free(clientP->msisdn);
1080:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (clientP->altPath != NULL) lwm2m_free(clientP->altPath);
1081:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     prv_freeClientObjectList(clientP->objectList);
1082:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     while(clientP->observationList != NULL)
1083:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
1084:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         lwm2m_observation_t *targetP;
1085:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1086:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         targetP = clientP->observationList;
1087:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         clientP->observationList = clientP->observationList->next;
1088:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         lwm2m_free(targetP);
1089:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
1090:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     lwm2m_free(clientP);
1091:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** }
1092:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1093:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** static int prv_getLocationString(uint16_t id,
1094:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                                  char location[MAX_LOCATION_LENGTH])
1095:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** {
1096:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     int index;
1097:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     int result;
1098:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1099:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     memset(location, 0, MAX_LOCATION_LENGTH);
1100:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1101:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     result = utils_stringCopy(location, MAX_LOCATION_LENGTH, "/"URI_REGISTRATION_SEGMENT"/");
1102:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (result < 0) return 0;
1103:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     index = result;
1104:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1105:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     result = utils_intToText(id, (uint8_t *)location + index, MAX_LOCATION_LENGTH - index);
1106:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (result == 0) return 0;
1107:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1108:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     return index + result;
1109:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** }
1110:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1111:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** uint8_t registration_handleRequest(lwm2m_context_t *contextP,
1112:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                                    lwm2m_uri_t *uriP,
1113:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                                    void *fromSessionH,
1114:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                                    coap_packet_t *message,
1115:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                                    coap_packet_t *response)
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 55


1116:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** {
1117:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     uint8_t result;
1118:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     time_t tv_sec;
1119:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1120:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     LOG_URI(uriP);
1121:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     tv_sec = lwm2m_gettime();
1122:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     if (tv_sec < 0) return COAP_500_INTERNAL_SERVER_ERROR;
1123:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1124:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     switch(message->code)
1125:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
1126:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     case COAP_POST:
1127:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
1128:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         char *name = NULL;
1129:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         uint32_t lifetime;
1130:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         char *msisdn;
1131:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         char *altPath;
1132:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         char *version;
1133:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         lwm2m_binding_t binding;
1134:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         lwm2m_client_object_t *objects;
1135:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         bool supportJSON;
1136:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         lwm2m_client_t *clientP;
1137:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         char location[MAX_LOCATION_LENGTH];
1138:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1139:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         if (0 != prv_getParameters(message->uri_query, &name, &lifetime, &msisdn, &binding, &versio
1140:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         {
1141:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             return COAP_400_BAD_REQUEST;
1142:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         }
1143:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         if (message->content_type != (coap_content_type_t)LWM2M_CONTENT_LINK
1144:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 && message->content_type != (coap_content_type_t)LWM2M_CONTENT_TEXT)
1145:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         {
1146:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             return COAP_400_BAD_REQUEST;
1147:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         }
1148:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1149:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         objects = prv_decodeRegisterPayload(message->payload, message->payload_len, &supportJSON, &
1150:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1151:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         switch (uriP->flag & LWM2M_URI_MASK_ID)
1152:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         {
1153:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         case 0:
1154:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             // Register operation
1155:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             // Version is mandatory
1156:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (version == NULL)
1157:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
1158:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 if (name != NULL) lwm2m_free(name);
1159:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 if (msisdn != NULL) lwm2m_free(msisdn);
1160:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 return COAP_400_BAD_REQUEST;
1161:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
1162:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             // Endpoint client name is mandatory
1163:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (name == NULL)
1164:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
1165:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 lwm2m_free(version);
1166:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 if (msisdn != NULL) lwm2m_free(msisdn);
1167:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 return COAP_400_BAD_REQUEST;
1168:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
1169:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             // Object list is mandatory
1170:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (objects == NULL)
1171:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
1172:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 lwm2m_free(version);
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 56


1173:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 lwm2m_free(name);
1174:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 if (msisdn != NULL) lwm2m_free(msisdn);
1175:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 return COAP_400_BAD_REQUEST;
1176:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
1177:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             // version must be 1.0
1178:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (strlen(version) != LWM2M_VERSION_LEN
1179:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     || lwm2m_strncmp(version, LWM2M_VERSION, LWM2M_VERSION_LEN))
1180:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
1181:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 lwm2m_free(version);
1182:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 lwm2m_free(name);
1183:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 if (msisdn != NULL) lwm2m_free(msisdn);
1184:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 return COAP_412_PRECONDITION_FAILED;
1185:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
1186:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1187:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (lifetime == 0)
1188:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
1189:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 lifetime = LWM2M_DEFAULT_LIFETIME;
1190:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
1191:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1192:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             clientP = prv_getClientByName(contextP, name);
1193:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (clientP != NULL)
1194:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
1195:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 // we reset this registration
1196:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 lwm2m_free(clientP->name);
1197:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 if (clientP->msisdn != NULL) lwm2m_free(clientP->msisdn);
1198:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 if (clientP->altPath != NULL) lwm2m_free(clientP->altPath);
1199:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 prv_freeClientObjectList(clientP->objectList);
1200:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 clientP->objectList = NULL;
1201:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
1202:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             else
1203:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
1204:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 clientP = (lwm2m_client_t *)lwm2m_malloc(sizeof(lwm2m_client_t));
1205:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 if (clientP == NULL)
1206:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 {
1207:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     lwm2m_free(name);
1208:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     lwm2m_free(altPath);
1209:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     if (msisdn != NULL) lwm2m_free(msisdn);
1210:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     prv_freeClientObjectList(objects);
1211:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     return COAP_500_INTERNAL_SERVER_ERROR;
1212:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 }
1213:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 memset(clientP, 0, sizeof(lwm2m_client_t));
1214:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 clientP->internalID = lwm2m_list_newId((lwm2m_list_t *)contextP->clientList);
1215:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 contextP->clientList = (lwm2m_client_t *)LWM2M_LIST_ADD(contextP->clientList, clien
1216:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
1217:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             clientP->name = name;
1218:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             clientP->binding = binding;
1219:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             clientP->msisdn = msisdn;
1220:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             clientP->altPath = altPath;
1221:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             clientP->supportJSON = supportJSON;
1222:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             clientP->lifetime = lifetime;
1223:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             clientP->endOfLife = tv_sec + lifetime;
1224:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             clientP->objectList = objects;
1225:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             clientP->sessionH = fromSessionH;
1226:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1227:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (prv_getLocationString(clientP->internalID, location) == 0)
1228:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
1229:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 registration_freeClient(clientP);
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 57


1230:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 return COAP_500_INTERNAL_SERVER_ERROR;
1231:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
1232:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (coap_set_header_location_path(response, location) == 0)
1233:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
1234:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 registration_freeClient(clientP);
1235:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 return COAP_500_INTERNAL_SERVER_ERROR;
1236:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
1237:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1238:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (contextP->monitorCallback != NULL)
1239:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
1240:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 contextP->monitorCallback(clientP->internalID, NULL, COAP_201_CREATED, LWM2M_CONTEN
1241:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
1242:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             result = COAP_201_CREATED;
1243:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             break;
1244:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1245:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         case LWM2M_URI_FLAG_OBJECT_ID:
1246:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             clientP = (lwm2m_client_t *)lwm2m_list_find((lwm2m_list_t *)contextP->clientList, uriP-
1247:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (clientP == NULL) return COAP_404_NOT_FOUND;
1248:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1249:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             // Endpoint client name MUST NOT be present
1250:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (name != NULL)
1251:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
1252:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 lwm2m_free(name);
1253:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 if (msisdn != NULL) lwm2m_free(msisdn);
1254:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 return COAP_400_BAD_REQUEST;
1255:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
1256:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1257:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (binding != BINDING_UNKNOWN)
1258:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
1259:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 clientP->binding = binding;
1260:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
1261:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (msisdn != NULL)
1262:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
1263:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 if (clientP->msisdn != NULL) lwm2m_free(clientP->msisdn);
1264:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 clientP->msisdn = msisdn;
1265:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
1266:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (lifetime != 0)
1267:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
1268:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 clientP->lifetime = lifetime;
1269:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
1270:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             // client IP address, port or MSISDN may have changed
1271:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             clientP->sessionH = fromSessionH;
1272:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1273:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (objects != NULL)
1274:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
1275:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 lwm2m_observation_t *observationP;
1276:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1277:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 // remove observations on object/instance no longer existing
1278:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 observationP = clientP->observationList;
1279:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 while (observationP != NULL)
1280:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 {
1281:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     lwm2m_client_object_t *objP;
1282:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     lwm2m_observation_t *nextP;
1283:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1284:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     nextP = observationP->next;
1285:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1286:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     objP = (lwm2m_client_object_t *)lwm2m_list_find((lwm2m_list_t *)objects, observ
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 58


1287:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     if (objP == NULL)
1288:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     {
1289:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                         observationP->callback(clientP->internalID,
1290:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                                                &observationP->uri,
1291:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                                                COAP_202_DELETED,
1292:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                                                LWM2M_CONTENT_TEXT, NULL, 0,
1293:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                                                observationP->userData);
1294:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                         observe_remove(observationP);
1295:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     }
1296:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     else
1297:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     {
1298:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                         if ((observationP->uri.flag & LWM2M_URI_FLAG_INSTANCE_ID) != 0)
1299:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                         {
1300:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                             if (lwm2m_list_find((lwm2m_list_t *)objP->instanceList, observationP->u
1301:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                             {
1302:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                                 observationP->callback(clientP->internalID,
1303:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                                                        &observationP->uri,
1304:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                                                        COAP_202_DELETED,
1305:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                                                        LWM2M_CONTENT_TEXT, NULL, 0,
1306:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                                                        observationP->userData);
1307:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                                 observe_remove(observationP);
1308:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                             }
1309:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                         }
1310:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     }
1311:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1312:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                     observationP = nextP;
1313:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 }
1314:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1315:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 prv_freeClientObjectList(clientP->objectList);
1316:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 clientP->objectList = objects;
1317:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
1318:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1319:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             clientP->endOfLife = tv_sec + clientP->lifetime;
1320:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1321:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (contextP->monitorCallback != NULL)
1322:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
1323:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 contextP->monitorCallback(clientP->internalID, NULL, COAP_204_CHANGED, LWM2M_CONTEN
1324:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
1325:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             result = COAP_204_CHANGED;
1326:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             break;
1327:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1328:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         default:
1329:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             return COAP_400_BAD_REQUEST;
1330:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         }
1331:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
1332:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     break;
1333:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1334:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     case COAP_DELETE:
1335:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
1336:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         lwm2m_client_t *clientP;
1337:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1338:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         if ((uriP->flag & LWM2M_URI_MASK_ID) != LWM2M_URI_FLAG_OBJECT_ID) return COAP_400_BAD_REQUE
1339:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1340:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         contextP->clientList = (lwm2m_client_t *)LWM2M_LIST_RM(contextP->clientList, uriP->objectId
1341:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         if (clientP == NULL) return COAP_400_BAD_REQUEST;
1342:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         if (contextP->monitorCallback != NULL)
1343:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         {
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 59


1344:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             contextP->monitorCallback(clientP->internalID, NULL, COAP_202_DELETED, LWM2M_CONTENT_TE
1345:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         }
1346:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         registration_freeClient(clientP);
1347:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         result = COAP_202_DELETED;
1348:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
1349:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     break;
1350:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1351:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     default:
1352:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         return COAP_400_BAD_REQUEST;
1353:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
1354:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1355:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     return result;
1356:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** }
1357:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1358:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** void lwm2m_set_monitoring_callback(lwm2m_context_t *contextP,
1359:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                                    lwm2m_result_callback_t callback,
1360:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                                    void *userData)
1361:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** {
1362:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     LOG("Entering");
1363:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     contextP->monitorCallback = callback;
1364:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     contextP->monitorUserData = userData;
1365:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** }
1366:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** #endif
1367:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1368:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** // for each server update the registration if needed
1369:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** // for each client check if the registration expired
1370:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** void registration_step(lwm2m_context_t *contextP,
1371:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                        time_t currentTime,
1372:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                        time_t *timeoutP)
1373:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** {
 1968              		.loc 1 1373 0
 1969              		.cfi_startproc
 1970              		@ args = 4, pretend = 0, frame = 40
 1971              		@ frame_needed = 1, uses_anonymous_args = 0
 1972 0000 90B5     		push	{r4, r7, lr}
 1973              	.LCFI68:
 1974              		.cfi_def_cfa_offset 12
 1975              		.cfi_offset 4, -12
 1976              		.cfi_offset 7, -8
 1977              		.cfi_offset 14, -4
 1978 0002 8BB0     		sub	sp, sp, #44
 1979              	.LCFI69:
 1980              		.cfi_def_cfa_offset 56
 1981 0004 00AF     		add	r7, sp, #0
 1982              	.LCFI70:
 1983              		.cfi_def_cfa_register 7
 1984 0006 F860     		str	r0, [r7, #12]
 1985 0008 C7E90023 		strd	r2, [r7]
1374:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** #ifdef LWM2M_CLIENT_MODE
1375:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     lwm2m_server_t *targetP = contextP->serverList;
 1986              		.loc 1 1375 0
 1987 000c FB68     		ldr	r3, [r7, #12]
 1988 000e 5B69     		ldr	r3, [r3, #20]
 1989 0010 7B62     		str	r3, [r7, #36]
1376:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1377:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     LOG_ARG("contextP State: %s", STR_STATE(contextP->state));
1378:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 60


1379:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     targetP = contextP->serverList;
 1990              		.loc 1 1379 0
 1991 0012 FB68     		ldr	r3, [r7, #12]
 1992 0014 5B69     		ldr	r3, [r3, #20]
 1993 0016 7B62     		str	r3, [r7, #36]
1380:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     while (targetP != NULL)
 1994              		.loc 1 1380 0
 1995 0018 87E0     		b	.L135
 1996              	.L149:
1381:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
1382:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         LOG_ARG("targetP Status: %s", STR_STATUS(targetP->status));
1383:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         switch (targetP->status)
 1997              		.loc 1 1383 0
 1998 001a 7B6A     		ldr	r3, [r7, #36]
 1999 001c 93F82030 		ldrb	r3, [r3, #32]	@ zero_extendqisi2
 2000 0020 023B     		subs	r3, r3, #2
 2001 0022 042B     		cmp	r3, #4
 2002 0024 79D8     		bhi	.L152
 2003 0026 01A2     		adr	r2, .L138
 2004 0028 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 2005              		.p2align 2
 2006              	.L138:
 2007 002c 41000000 		.word	.L137+1
 2008 0030 FB000000 		.word	.L139+1
 2009 0034 1B010000 		.word	.L152+1
 2010 0038 E3000000 		.word	.L140+1
 2011 003c EF000000 		.word	.L141+1
 2012              		.p2align 1
 2013              	.L137:
 2014              	.LBB6:
1384:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         {
1385:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         case STATE_REGISTERED:
1386:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         {
1387:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             time_t nextUpdate;
1388:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             int32_t  interval;
1389:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1390:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             nextUpdate = targetP->lifetime;
 2015              		.loc 1 1390 0
 2016 0040 7B6A     		ldr	r3, [r7, #36]
 2017 0042 D3E90234 		ldrd	r3, [r3, #8]
 2018 0046 C7E90634 		strd	r3, [r7, #24]
1391:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (COAP_MAX_TRANSMIT_WAIT < nextUpdate)
 2019              		.loc 1 1391 0
 2020 004a D7E90601 		ldrd	r0, [r7, #24]
 2021 004e FFF7FEFF 		bl	__aeabi_l2d
 2022              	.LVL0:
 2023 0052 4FF00002 		mov	r2, #0
 2024 0056 394B     		ldr	r3, .L155
 2025 0058 FFF7FEFF 		bl	__aeabi_dcmpgt
 2026              	.LVL1:
 2027 005c 0346     		mov	r3, r0
 2028 005e 002B     		cmp	r3, #0
 2029 0060 13D0     		beq	.L151
1392:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
1393:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 nextUpdate -= COAP_MAX_TRANSMIT_WAIT;
 2030              		.loc 1 1393 0
 2031 0062 D7E90601 		ldrd	r0, [r7, #24]
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 61


 2032 0066 FFF7FEFF 		bl	__aeabi_l2d
 2033              	.LVL2:
 2034 006a 4FF00002 		mov	r2, #0
 2035 006e 334B     		ldr	r3, .L155
 2036 0070 FFF7FEFF 		bl	__aeabi_dsub
 2037              	.LVL3:
 2038 0074 0346     		mov	r3, r0
 2039 0076 0C46     		mov	r4, r1
 2040 0078 1846     		mov	r0, r3
 2041 007a 2146     		mov	r1, r4
 2042 007c FFF7FEFF 		bl	__aeabi_d2lz
 2043              	.LVL4:
 2044 0080 0346     		mov	r3, r0
 2045 0082 0C46     		mov	r4, r1
 2046 0084 C7E90634 		strd	r3, [r7, #24]
 2047 0088 06E0     		b	.L144
 2048              	.L151:
1394:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
1395:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             else
1396:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
1397:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 nextUpdate = nextUpdate >> 1;
 2049              		.loc 1 1397 0
 2050 008a D7E90634 		ldrd	r3, [r7, #24]
 2051 008e 6410     		movs	r4, r4, asr #1
 2052 0090 4FEA3303 		mov	r3, r3, rrx
 2053 0094 C7E90634 		strd	r3, [r7, #24]
 2054              	.L144:
1398:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
1399:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1400:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             interval = (int32_t)(targetP->registration + nextUpdate) - (int32_t)currentTime;
 2055              		.loc 1 1400 0
 2056 0098 7B6A     		ldr	r3, [r7, #36]
 2057 009a D3E90434 		ldrd	r3, [r3, #16]
 2058 009e 1A46     		mov	r2, r3
 2059 00a0 BB69     		ldr	r3, [r7, #24]
 2060 00a2 1344     		add	r3, r3, r2
 2061 00a4 1A46     		mov	r2, r3
 2062 00a6 3B68     		ldr	r3, [r7]
 2063 00a8 D31A     		subs	r3, r2, r3
 2064 00aa 7B61     		str	r3, [r7, #20]
1401:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (0 >= interval)
 2065              		.loc 1 1401 0
 2066 00ac 7B69     		ldr	r3, [r7, #20]
 2067 00ae 002B     		cmp	r3, #0
 2068 00b0 05DC     		bgt	.L145
1402:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
1403:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 LOG("Updating registration");
1404:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 prv_updateRegistration(contextP, targetP, false);
 2069              		.loc 1 1404 0
 2070 00b2 0022     		movs	r2, #0
 2071 00b4 796A     		ldr	r1, [r7, #36]
 2072 00b6 F868     		ldr	r0, [r7, #12]
 2073 00b8 FFF7FEFF 		bl	prv_updateRegistration
 2074              	.LBE6:
1405:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
1406:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             else if (interval < *timeoutP)
1407:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 62


1408:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 *timeoutP = interval;
1409:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
1410:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         }
1411:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         break;
 2075              		.loc 1 1411 0
 2076 00bc 2FE0     		b	.L153
 2077              	.L145:
 2078              	.LBB7:
1406:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
 2079              		.loc 1 1406 0
 2080 00be 7B69     		ldr	r3, [r7, #20]
 2081 00c0 1946     		mov	r1, r3
 2082 00c2 4FEAE172 		asr	r2, r1, #31
 2083 00c6 BB6B     		ldr	r3, [r7, #56]
 2084 00c8 D3E90034 		ldrd	r3, [r3]
 2085 00cc 9942     		cmp	r1, r3
 2086 00ce 72EB0403 		sbcs	r3, r2, r4
 2087 00d2 24DA     		bge	.L153
1408:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
 2088              		.loc 1 1408 0
 2089 00d4 7B69     		ldr	r3, [r7, #20]
 2090 00d6 4FEAE374 		asr	r4, r3, #31
 2091 00da BA6B     		ldr	r2, [r7, #56]
 2092 00dc C2E90034 		strd	r3, [r2]
 2093              	.LBE7:
 2094              		.loc 1 1411 0
 2095 00e0 1DE0     		b	.L153
 2096              	.L140:
1412:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1413:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         case STATE_REG_UPDATE_NEEDED:
1414:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             prv_updateRegistration(contextP, targetP, false);
 2097              		.loc 1 1414 0
 2098 00e2 0022     		movs	r2, #0
 2099 00e4 796A     		ldr	r1, [r7, #36]
 2100 00e6 F868     		ldr	r0, [r7, #12]
 2101 00e8 FFF7FEFF 		bl	prv_updateRegistration
1415:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             break;
 2102              		.loc 1 1415 0
 2103 00ec 1AE0     		b	.L147
 2104              	.L141:
1416:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1417:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         case STATE_REG_FULL_UPDATE_NEEDED:
1418:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             prv_updateRegistration(contextP, targetP, true);
 2105              		.loc 1 1418 0
 2106 00ee 0122     		movs	r2, #1
 2107 00f0 796A     		ldr	r1, [r7, #36]
 2108 00f2 F868     		ldr	r0, [r7, #12]
 2109 00f4 FFF7FEFF 		bl	prv_updateRegistration
1419:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             break;
 2110              		.loc 1 1419 0
 2111 00f8 14E0     		b	.L147
 2112              	.L139:
1420:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1421:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         case STATE_REG_FAILED:
1422:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (targetP->sessionH != NULL)
 2113              		.loc 1 1422 0
 2114 00fa 7B6A     		ldr	r3, [r7, #36]
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 63


 2115 00fc DB69     		ldr	r3, [r3, #28]
 2116 00fe 002B     		cmp	r3, #0
 2117 0100 0FD0     		beq	.L154
1423:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
1424:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 lwm2m_close_connection(targetP->sessionH, contextP->userData);
 2118              		.loc 1 1424 0
 2119 0102 7B6A     		ldr	r3, [r7, #36]
 2120 0104 DA69     		ldr	r2, [r3, #28]
 2121 0106 FB68     		ldr	r3, [r7, #12]
 2122 0108 5B6B     		ldr	r3, [r3, #52]
 2123 010a 1946     		mov	r1, r3
 2124 010c 1046     		mov	r0, r2
 2125 010e FFF7FEFF 		bl	lwm2m_close_connection
1425:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 targetP->sessionH = NULL;
 2126              		.loc 1 1425 0
 2127 0112 7B6A     		ldr	r3, [r7, #36]
 2128 0114 0022     		movs	r2, #0
 2129 0116 DA61     		str	r2, [r3, #28]
1426:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
1427:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             break;
 2130              		.loc 1 1427 0
 2131 0118 03E0     		b	.L154
 2132              	.L152:
1428:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1429:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         default:
1430:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             break;
 2133              		.loc 1 1430 0
 2134 011a 00BF     		nop
 2135 011c 02E0     		b	.L147
 2136              	.L153:
1411:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 2137              		.loc 1 1411 0
 2138 011e 00BF     		nop
 2139 0120 00E0     		b	.L147
 2140              	.L154:
1427:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
 2141              		.loc 1 1427 0
 2142 0122 00BF     		nop
 2143              	.L147:
1431:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         }
1432:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         targetP = targetP->next;
 2144              		.loc 1 1432 0
 2145 0124 7B6A     		ldr	r3, [r7, #36]
 2146 0126 1B68     		ldr	r3, [r3]
 2147 0128 7B62     		str	r3, [r7, #36]
 2148              	.L135:
1380:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
 2149              		.loc 1 1380 0
 2150 012a 7B6A     		ldr	r3, [r7, #36]
 2151 012c 002B     		cmp	r3, #0
 2152 012e 7FF474AF 		bne	.L149
1433:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
1434:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1435:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** #endif
1436:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** #ifdef LWM2M_SERVER_MODE
1437:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     lwm2m_client_t *clientP;
1438:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 64


1439:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     LOG("Entering");
1440:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     // monitor clients lifetime
1441:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     clientP = contextP->clientList;
1442:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     while (clientP != NULL)
1443:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     {
1444:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         lwm2m_client_t *nextP = clientP->next;
1445:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1446:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         if (clientP->endOfLife <= currentTime)
1447:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         {
1448:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             contextP->clientList = (lwm2m_client_t *)LWM2M_LIST_RM(contextP->clientList, clientP->i
1449:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (contextP->monitorCallback != NULL)
1450:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
1451:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 contextP->monitorCallback(clientP->internalID, NULL, COAP_202_DELETED, LWM2M_CONTEN
1452:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
1453:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             registration_freeClient(clientP);
1454:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         }
1455:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         else
1456:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         {
1457:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             time_t interval;
1458:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1459:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             interval = clientP->endOfLife - currentTime;
1460:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1461:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             if (*timeoutP > interval)
1462:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             {
1463:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****                 *timeoutP = interval;
1464:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****             }
1465:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         }
1466:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****         clientP = nextP;
1467:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c ****     }
1468:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** #endif
1469:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** 
1470:D:/iot/felix2/components/connectivity/lwm2m/core\registration.c **** }
 2153              		.loc 1 1470 0
 2154 0132 00BF     		nop
 2155 0134 2C37     		adds	r7, r7, #44
 2156              	.LCFI71:
 2157              		.cfi_def_cfa_offset 12
 2158 0136 BD46     		mov	sp, r7
 2159              	.LCFI72:
 2160              		.cfi_def_cfa_register 13
 2161              		@ sp needed
 2162 0138 90BD     		pop	{r4, r7, pc}
 2163              	.L156:
 2164 013a 00BF     		.align	2
 2165              	.L155:
 2166 013c 00406740 		.word	1080508416
 2167              		.cfi_endproc
 2168              	.LFE147:
 2170              		.text
 2171              	.Letext0:
 2172              		.file 2 "d:\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include\\machine\\_default_ty
 2173              		.file 3 "d:\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include\\sys\\_stdint.h"
 2174              		.file 4 "D:/iot/felix2/components/connectivity/lwm2m/core/liblwm2m_api.h"
 2175              		.file 5 "d:\\liteos studio\\resources\\arm-none-eabi\\lib\\gcc\\arm-none-eabi\\7.3.1\\include\\std
 2176              		.file 6 "d:\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include\\sys\\lock.h"
 2177              		.file 7 "d:\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include\\sys\\_types.h"
 2178              		.file 8 "d:\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include\\sys\\reent.h"
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 65


 2179              		.file 9 "d:\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include\\sys\\_timeval.h"
 2180              		.file 10 "d:\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include\\time.h"
 2181              		.file 11 "D:/iot/felix2/components/connectivity/lwm2m/core/er-coap-13/er-coap-13.h"
 2182              		.file 12 "D:/iot/felix2/kernel/include/los_typedef.h"
 2183              		.file 13 "D:/iot/felix2/arch/arm/common/cmsis/core_cm4.h"
 2184              		.file 14 "D:/iot/felix2/targets/Cloud_STM32L431_BearPi/Inc/system_stm32l4xx.h"
 2185              		.file 15 "D:/iot/felix2/kernel/include/los_list.h"
 2186              		.file 16 "D:/iot/felix2/kernel/include/los_err.h"
 2187              		.file 17 "D:/iot/felix2/arch/arm/arm-m/include/los_hwi.h"
 2188              		.file 18 "D:/iot/felix2/kernel/include/los_tick.h"
 2189              		.file 19 "D:/iot/felix2/kernel/include/los_event.h"
 2190              		.file 20 "D:/iot/felix2/kernel/include/los_task.h"
 2191              		.file 21 "D:/iot/felix2/kernel/base/include/los_task.ph"
 2192              		.file 22 "D:/iot/felix2/targets/Cloud_STM32L431_BearPi/Inc/main.h"
 2193              		.file 23 "D:/iot/felix2/targets/Cloud_STM32L431_BearPi/OS_CONFIG/target_config.h"
 2194              		.file 24 "D:/iot/felix2/kernel/include/los_config.h"
 2195              		.file 25 "D:/iot/felix2/components/connectivity/lwm2m/core/liblwm2m.h"
 2196              		.file 26 "d:\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include\\stdlib.h"
 2197              		.file 27 "d:\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include\\ctype.h"
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 66


DEFINED SYMBOLS
                            *ABS*:00000000 registration.c
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:18     .text.prv_getRegistrationQueryLength:00000000 $t
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:24     .text.prv_getRegistrationQueryLength:00000000 prv_getRegistrationQueryLength
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:86     .text.prv_getRegistrationQueryLength:00000050 $d
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:92     .text.prv_getRegistrationQueryLength:00000068 $t
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:189    .rodata:00000000 $d
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:217    .text.prv_getRegistrationQuery:00000000 $t
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:223    .text.prv_getRegistrationQuery:00000000 prv_getRegistrationQuery
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:349    .text.prv_getRegistrationQuery:000000b8 $d
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:355    .text.prv_getRegistrationQuery:000000d0 $t
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:548    .text.prv_getRegistrationQuery:00000200 $d
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:561    .text.prv_handleRegistrationReply:00000000 $t
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:567    .text.prv_handleRegistrationReply:00000000 prv_handleRegistrationReply
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:673    .text.prv_register:00000000 $t
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:679    .text.prv_register:00000000 prv_register
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:943    .text.prv_register:000001a4 $d
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:949    .text.prv_handleRegistrationUpdateReply:00000000 $t
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:955    .text.prv_handleRegistrationUpdateReply:00000000 prv_handleRegistrationUpdateReply
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:1038   .text.prv_updateRegistration:00000000 $t
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:1044   .text.prv_updateRegistration:00000000 prv_updateRegistration
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:1220   .text.prv_updateRegistration:00000108 $d
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:1225   .text.lwm2m_update_registration:00000000 $t
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:1232   .text.lwm2m_update_registration:00000000 lwm2m_update_registration
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:1413   .text.registration_start:00000000 $t
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:1420   .text.registration_start:00000000 registration_start
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:1496   .text.registration_getStatus:00000000 $t
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:1503   .text.registration_getStatus:00000000 registration_getStatus
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:1541   .text.registration_getStatus:00000028 $d
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:1547   .text.registration_getStatus:00000040 $t
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:1601   .text.prv_handleDeregistrationReply:00000000 $t
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:1607   .text.prv_handleDeregistrationReply:00000000 prv_handleDeregistrationReply
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:1662   .text.registration_deregister:00000000 $t
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:1669   .text.registration_deregister:00000000 registration_deregister
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:1793   .text.registration_deregister:000000b8 $d
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:1798   .text.registration_reset:00000000 $t
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:1805   .text.registration_reset:00000000 registration_reset
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:1860   .text.registration_get_registered_server:00000000 $t
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:1867   .text.registration_get_registered_server:00000000 registration_get_registered_server
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:1959   .text.registration_step:00000000 $t
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:1966   .text.registration_step:00000000 registration_step
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:2007   .text.registration_step:0000002c $d
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:2012   .text.registration_step:00000040 $t
C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s:2166   .text.registration_step:0000013c $d

UNDEFINED SYMBOLS
strlen
utils_intToText
utils_stringCopy
lwm2m_gettime
lwm2m_free
coap_get_multi_option_as_string
object_getRegisterPayloadBufferLength
lwm2m_malloc
object_getRegisterPayload
lwm2m_connect_server
transaction_new
ARM GAS  C:\Users\91458\AppData\Local\Temp\ccbwrSHi.s 			page 67


coap_set_header_uri_path
coap_set_header_uri_query
coap_set_header_content_type
coap_set_payload
lwm2m_list_add
transaction_send
transaction_free
object_getServers
lwm2m_close_connection
__aeabi_l2d
__aeabi_dcmpgt
__aeabi_dsub
__aeabi_d2lz

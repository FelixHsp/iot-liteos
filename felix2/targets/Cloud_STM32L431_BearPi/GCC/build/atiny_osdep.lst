ARM GAS  C:\Users\91458\AppData\Local\Temp\cczz5YzB.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"atiny_osdep.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.osKernelGetTickCount,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv4-sp-d16
  24              	osKernelGetTickCount:
  25              	.LFB135:
  26              		.file 1 "D:/iot/felix2/osdepends/liteos/atiny_osdep.c"
   1:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** /*----------------------------------------------------------------------------
   2:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****  * Copyright (c) <2016-2018>, <Huawei Technologies Co., Ltd>
   3:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****  * All rights reserved.
   4:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****  * Redistribution and use in source and binary forms, with or without modification,
   5:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****  * are permitted provided that the following conditions are met:
   6:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****  * 1. Redistributions of source code must retain the above copyright notice, this list of
   7:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****  * conditions and the following disclaimer.
   8:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice, this list
   9:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****  * of conditions and the following disclaimer in the documentation and/or other materials
  10:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****  * provided with the distribution.
  11:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****  * 3. Neither the name of the copyright holder nor the names of its contributors may be used
  12:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****  * to endorse or promote products derived from this software without specific prior written
  13:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****  * permission.
  14:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
  15:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****  * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  16:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****  * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  17:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****  * PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR
  18:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****  * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  19:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  20:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****  * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
  21:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****  * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
  22:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****  * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
  23:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****  * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
  24:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****  * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  25:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****  *---------------------------------------------------------------------------*/
  26:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** /*----------------------------------------------------------------------------
  27:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****  * Notice of Export Control Law
  28:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****  * ===============================================
  29:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****  * Huawei LiteOS may be subject to applicable export control laws and regulations, which might
  30:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****  * include those applicable to Huawei LiteOS of U.S. and the country in which you are located.
  31:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****  * Import, export and usage of Huawei LiteOS in any manner by you shall be in compliance with such
  32:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****  * applicable export control laws and regulations.
ARM GAS  C:\Users\91458\AppData\Local\Temp\cczz5YzB.s 			page 2


  33:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****  *---------------------------------------------------------------------------*/
  34:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
  35:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** #include "osdepends/atiny_osdep.h"
  36:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** #include "los_memory.h"
  37:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** #include "los_sys.ph"
  38:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** #include "los_sem.ph"
  39:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** #include "los_tick.ph"
  40:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** #include <stdbool.h>
  41:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** #include "los_mux.h"
  42:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
  43:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
  44:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** #define ATINY_CNT_MAX_WAITTIME 0xFFFFFFFF
  45:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** #define LOG_BUF_SIZE (256)
  46:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
  47:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** #ifndef OK
  48:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** #define OK 0
  49:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** #endif
  50:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
  51:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** #ifndef ERR
  52:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** #define ERR -1
  53:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** #endif
  54:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
  55:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
  56:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** static uint64_t osKernelGetTickCount (void)
  57:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** {
  27              		.loc 1 57 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 16
  30              		@ frame_needed = 1, uses_anonymous_args = 0
  31 0000 90B5     		push	{r4, r7, lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 12
  34              		.cfi_offset 4, -12
  35              		.cfi_offset 7, -8
  36              		.cfi_offset 14, -4
  37 0002 85B0     		sub	sp, sp, #20
  38              	.LCFI1:
  39              		.cfi_def_cfa_offset 32
  40 0004 00AF     		add	r7, sp, #0
  41              	.LCFI2:
  42              		.cfi_def_cfa_register 7
  58:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     uint64_t ticks;
  59:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     UINTPTR uvIntSave;
  60:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
  61:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     if(OS_INT_ACTIVE)
  43              		.loc 1 61 0
  44 0006 FFF7FEFF 		bl	osIntNumGet
  45 000a 0346     		mov	r3, r0
  46 000c 002B     		cmp	r3, #0
  47 000e 06D0     		beq	.L2
  62:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     {
  63:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****         ticks = 0U;
  48              		.loc 1 63 0
  49 0010 4FF00003 		mov	r3, #0
  50 0014 4FF00004 		mov	r4, #0
  51 0018 C7E90234 		strd	r3, [r7, #8]
  52 001c 0AE0     		b	.L3
ARM GAS  C:\Users\91458\AppData\Local\Temp\cczz5YzB.s 			page 3


  53              	.L2:
  64:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     }
  65:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     else
  66:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     {
  67:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****         uvIntSave = LOS_IntLock();
  54              		.loc 1 67 0
  55 001e FFF7FEFF 		bl	LOS_IntLock
  56 0022 7860     		str	r0, [r7, #4]
  68:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****         ticks = g_ullTickCount;
  57              		.loc 1 68 0
  58 0024 074B     		ldr	r3, .L5
  59 0026 D3E90034 		ldrd	r3, [r3]
  60 002a C7E90234 		strd	r3, [r7, #8]
  69:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****         LOS_IntRestore(uvIntSave);
  61              		.loc 1 69 0
  62 002e 7868     		ldr	r0, [r7, #4]
  63 0030 FFF7FEFF 		bl	LOS_IntRestore
  64              	.L3:
  70:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     }
  71:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
  72:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     return ticks;
  65              		.loc 1 72 0
  66 0034 D7E90234 		ldrd	r3, [r7, #8]
  73:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** }
  67              		.loc 1 73 0
  68 0038 1846     		mov	r0, r3
  69 003a 2146     		mov	r1, r4
  70 003c 1437     		adds	r7, r7, #20
  71              	.LCFI3:
  72              		.cfi_def_cfa_offset 12
  73 003e BD46     		mov	sp, r7
  74              	.LCFI4:
  75              		.cfi_def_cfa_register 13
  76              		@ sp needed
  77 0040 90BD     		pop	{r4, r7, pc}
  78              	.L6:
  79 0042 00BF     		.align	2
  80              	.L5:
  81 0044 00000000 		.word	g_ullTickCount
  82              		.cfi_endproc
  83              	.LFE135:
  85              		.section	.text.atiny_gettime_ms,"ax",%progbits
  86              		.align	1
  87              		.global	atiny_gettime_ms
  88              		.syntax unified
  89              		.thumb
  90              		.thumb_func
  91              		.fpu fpv4-sp-d16
  93              	atiny_gettime_ms:
  94              	.LFB136:
  74:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
  75:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** uint64_t atiny_gettime_ms(void)
  76:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** {
  95              		.loc 1 76 0
  96              		.cfi_startproc
  97              		@ args = 0, pretend = 0, frame = 0
  98              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  C:\Users\91458\AppData\Local\Temp\cczz5YzB.s 			page 4


  99 0000 98B5     		push	{r3, r4, r7, lr}
 100              	.LCFI5:
 101              		.cfi_def_cfa_offset 16
 102              		.cfi_offset 3, -16
 103              		.cfi_offset 4, -12
 104              		.cfi_offset 7, -8
 105              		.cfi_offset 14, -4
 106 0002 00AF     		add	r7, sp, #0
 107              	.LCFI6:
 108              		.cfi_def_cfa_register 7
  77:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     return osKernelGetTickCount() * (OS_SYS_MS_PER_SECOND / LOSCFG_BASE_CORE_TICK_PER_SECOND);
 109              		.loc 1 77 0
 110 0004 FFF7FEFF 		bl	osKernelGetTickCount
 111 0008 0346     		mov	r3, r0
 112 000a 0C46     		mov	r4, r1
  78:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** }
 113              		.loc 1 78 0
 114 000c 1846     		mov	r0, r3
 115 000e 2146     		mov	r1, r4
 116 0010 98BD     		pop	{r3, r4, r7, pc}
 117              		.cfi_endproc
 118              	.LFE136:
 120              		.section	.text.atiny_malloc,"ax",%progbits
 121              		.align	1
 122              		.global	atiny_malloc
 123              		.syntax unified
 124              		.thumb
 125              		.thumb_func
 126              		.fpu fpv4-sp-d16
 128              	atiny_malloc:
 129              	.LFB137:
  79:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
  80:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** void *atiny_malloc(size_t size)
  81:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** {
 130              		.loc 1 81 0
 131              		.cfi_startproc
 132              		@ args = 0, pretend = 0, frame = 8
 133              		@ frame_needed = 1, uses_anonymous_args = 0
 134 0000 80B5     		push	{r7, lr}
 135              	.LCFI7:
 136              		.cfi_def_cfa_offset 8
 137              		.cfi_offset 7, -8
 138              		.cfi_offset 14, -4
 139 0002 82B0     		sub	sp, sp, #8
 140              	.LCFI8:
 141              		.cfi_def_cfa_offset 16
 142 0004 00AF     		add	r7, sp, #0
 143              	.LCFI9:
 144              		.cfi_def_cfa_register 7
 145 0006 7860     		str	r0, [r7, #4]
  82:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     return LOS_MemAlloc(m_aucSysMem0, size);
 146              		.loc 1 82 0
 147 0008 054B     		ldr	r3, .L11
 148 000a 1B68     		ldr	r3, [r3]
 149 000c 7968     		ldr	r1, [r7, #4]
 150 000e 1846     		mov	r0, r3
 151 0010 FFF7FEFF 		bl	LOS_MemAlloc
ARM GAS  C:\Users\91458\AppData\Local\Temp\cczz5YzB.s 			page 5


 152 0014 0346     		mov	r3, r0
  83:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** }
 153              		.loc 1 83 0
 154 0016 1846     		mov	r0, r3
 155 0018 0837     		adds	r7, r7, #8
 156              	.LCFI10:
 157              		.cfi_def_cfa_offset 8
 158 001a BD46     		mov	sp, r7
 159              	.LCFI11:
 160              		.cfi_def_cfa_register 13
 161              		@ sp needed
 162 001c 80BD     		pop	{r7, pc}
 163              	.L12:
 164 001e 00BF     		.align	2
 165              	.L11:
 166 0020 00000000 		.word	m_aucSysMem0
 167              		.cfi_endproc
 168              	.LFE137:
 170              		.section	.text.atiny_free,"ax",%progbits
 171              		.align	1
 172              		.global	atiny_free
 173              		.syntax unified
 174              		.thumb
 175              		.thumb_func
 176              		.fpu fpv4-sp-d16
 178              	atiny_free:
 179              	.LFB138:
  84:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
  85:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** void atiny_free(void *ptr)
  86:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** {
 180              		.loc 1 86 0
 181              		.cfi_startproc
 182              		@ args = 0, pretend = 0, frame = 8
 183              		@ frame_needed = 1, uses_anonymous_args = 0
 184 0000 80B5     		push	{r7, lr}
 185              	.LCFI12:
 186              		.cfi_def_cfa_offset 8
 187              		.cfi_offset 7, -8
 188              		.cfi_offset 14, -4
 189 0002 82B0     		sub	sp, sp, #8
 190              	.LCFI13:
 191              		.cfi_def_cfa_offset 16
 192 0004 00AF     		add	r7, sp, #0
 193              	.LCFI14:
 194              		.cfi_def_cfa_register 7
 195 0006 7860     		str	r0, [r7, #4]
  87:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     (void)LOS_MemFree(m_aucSysMem0, ptr);
 196              		.loc 1 87 0
 197 0008 044B     		ldr	r3, .L14
 198 000a 1B68     		ldr	r3, [r3]
 199 000c 7968     		ldr	r1, [r7, #4]
 200 000e 1846     		mov	r0, r3
 201 0010 FFF7FEFF 		bl	LOS_MemFree
  88:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** }
 202              		.loc 1 88 0
 203 0014 00BF     		nop
 204 0016 0837     		adds	r7, r7, #8
ARM GAS  C:\Users\91458\AppData\Local\Temp\cczz5YzB.s 			page 6


 205              	.LCFI15:
 206              		.cfi_def_cfa_offset 8
 207 0018 BD46     		mov	sp, r7
 208              	.LCFI16:
 209              		.cfi_def_cfa_register 13
 210              		@ sp needed
 211 001a 80BD     		pop	{r7, pc}
 212              	.L15:
 213              		.align	2
 214              	.L14:
 215 001c 00000000 		.word	m_aucSysMem0
 216              		.cfi_endproc
 217              	.LFE138:
 219              		.section	.text.atiny_snprintf,"ax",%progbits
 220              		.align	1
 221              		.global	atiny_snprintf
 222              		.syntax unified
 223              		.thumb
 224              		.thumb_func
 225              		.fpu fpv4-sp-d16
 227              	atiny_snprintf:
 228              	.LFB139:
  89:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
  90:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** int atiny_snprintf(char *buf, unsigned int size, const char *format, ...)
  91:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** {
 229              		.loc 1 91 0
 230              		.cfi_startproc
 231              		@ args = 4, pretend = 8, frame = 16
 232              		@ frame_needed = 1, uses_anonymous_args = 1
 233 0000 0CB4     		push	{r2, r3}
 234              	.LCFI17:
 235              		.cfi_def_cfa_offset 8
 236              		.cfi_offset 2, -8
 237              		.cfi_offset 3, -4
 238 0002 80B5     		push	{r7, lr}
 239              	.LCFI18:
 240              		.cfi_def_cfa_offset 16
 241              		.cfi_offset 7, -16
 242              		.cfi_offset 14, -12
 243 0004 84B0     		sub	sp, sp, #16
 244              	.LCFI19:
 245              		.cfi_def_cfa_offset 32
 246 0006 00AF     		add	r7, sp, #0
 247              	.LCFI20:
 248              		.cfi_def_cfa_register 7
 249 0008 7860     		str	r0, [r7, #4]
 250 000a 3960     		str	r1, [r7]
  92:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     int     ret;
  93:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     va_list args;
  94:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
  95:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     va_start(args, format);
 251              		.loc 1 95 0
 252 000c 07F11C03 		add	r3, r7, #28
 253 0010 BB60     		str	r3, [r7, #8]
  96:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     ret = vsnprintf(buf, size, format, args);
 254              		.loc 1 96 0
 255 0012 BB68     		ldr	r3, [r7, #8]
ARM GAS  C:\Users\91458\AppData\Local\Temp\cczz5YzB.s 			page 7


 256 0014 BA69     		ldr	r2, [r7, #24]
 257 0016 3968     		ldr	r1, [r7]
 258 0018 7868     		ldr	r0, [r7, #4]
 259 001a FFF7FEFF 		bl	vsnprintf
 260 001e F860     		str	r0, [r7, #12]
  97:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     va_end(args);
  98:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
  99:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     return ret;
 261              		.loc 1 99 0
 262 0020 FB68     		ldr	r3, [r7, #12]
 100:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** }
 263              		.loc 1 100 0
 264 0022 1846     		mov	r0, r3
 265 0024 1037     		adds	r7, r7, #16
 266              	.LCFI21:
 267              		.cfi_def_cfa_offset 16
 268 0026 BD46     		mov	sp, r7
 269              	.LCFI22:
 270              		.cfi_def_cfa_register 13
 271              		@ sp needed
 272 0028 BDE88040 		pop	{r7, lr}
 273              	.LCFI23:
 274              		.cfi_restore 14
 275              		.cfi_restore 7
 276              		.cfi_def_cfa_offset 8
 277 002c 02B0     		add	sp, sp, #8
 278              	.LCFI24:
 279              		.cfi_restore 3
 280              		.cfi_restore 2
 281              		.cfi_def_cfa_offset 0
 282 002e 7047     		bx	lr
 283              		.cfi_endproc
 284              	.LFE139:
 286              		.section	.rodata
 287              		.align	2
 288              	.LC0:
 289 0000 257300   		.ascii	"%s\000"
 290              		.section	.text.atiny_printf,"ax",%progbits
 291              		.align	1
 292              		.global	atiny_printf
 293              		.syntax unified
 294              		.thumb
 295              		.thumb_func
 296              		.fpu fpv4-sp-d16
 298              	atiny_printf:
 299              	.LFB140:
 101:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 102:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** int atiny_printf(const char *format, ...)
 103:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** {
 300              		.loc 1 103 0
 301              		.cfi_startproc
 302              		@ args = 4, pretend = 16, frame = 264
 303              		@ frame_needed = 1, uses_anonymous_args = 1
 304 0000 0FB4     		push	{r0, r1, r2, r3}
 305              	.LCFI25:
 306              		.cfi_def_cfa_offset 16
 307              		.cfi_offset 0, -16
ARM GAS  C:\Users\91458\AppData\Local\Temp\cczz5YzB.s 			page 8


 308              		.cfi_offset 1, -12
 309              		.cfi_offset 2, -8
 310              		.cfi_offset 3, -4
 311 0002 80B5     		push	{r7, lr}
 312              	.LCFI26:
 313              		.cfi_def_cfa_offset 24
 314              		.cfi_offset 7, -24
 315              		.cfi_offset 14, -20
 316 0004 C2B0     		sub	sp, sp, #264
 317              	.LCFI27:
 318              		.cfi_def_cfa_offset 288
 319 0006 00AF     		add	r7, sp, #0
 320              	.LCFI28:
 321              		.cfi_def_cfa_register 7
 104:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     int ret;
 105:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     char str_buf[LOG_BUF_SIZE] = {0};
 322              		.loc 1 105 0
 323 0008 3B1D     		adds	r3, r7, #4
 324 000a 1846     		mov	r0, r3
 325 000c 4FF48073 		mov	r3, #256
 326 0010 1A46     		mov	r2, r3
 327 0012 0021     		movs	r1, #0
 328 0014 FFF7FEFF 		bl	memset
 106:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     va_list list;
 107:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 108:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     memset(str_buf, 0, LOG_BUF_SIZE);
 329              		.loc 1 108 0
 330 0018 3B1D     		adds	r3, r7, #4
 331 001a 4FF48072 		mov	r2, #256
 332 001e 0021     		movs	r1, #0
 333 0020 1846     		mov	r0, r3
 334 0022 FFF7FEFF 		bl	memset
 109:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     va_start(list, format);
 335              		.loc 1 109 0
 336 0026 07F58A72 		add	r2, r7, #276
 337 002a 3B46     		mov	r3, r7
 338 002c 1A60     		str	r2, [r3]
 110:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     ret = vsnprintf(str_buf, LOG_BUF_SIZE, format, list);
 339              		.loc 1 110 0
 340 002e 3B46     		mov	r3, r7
 341 0030 381D     		adds	r0, r7, #4
 342 0032 1B68     		ldr	r3, [r3]
 343 0034 D7F81021 		ldr	r2, [r7, #272]
 344 0038 4FF48071 		mov	r1, #256
 345 003c FFF7FEFF 		bl	vsnprintf
 346 0040 C7F80401 		str	r0, [r7, #260]
 111:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     va_end(list);
 112:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 113:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     printf("%s", str_buf);
 347              		.loc 1 113 0
 348 0044 3B1D     		adds	r3, r7, #4
 349 0046 1946     		mov	r1, r3
 350 0048 0648     		ldr	r0, .L20
 351 004a FFF7FEFF 		bl	printf
 114:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 115:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     return ret;
 352              		.loc 1 115 0
ARM GAS  C:\Users\91458\AppData\Local\Temp\cczz5YzB.s 			page 9


 353 004e D7F80431 		ldr	r3, [r7, #260]
 116:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** }
 354              		.loc 1 116 0
 355 0052 1846     		mov	r0, r3
 356 0054 07F58477 		add	r7, r7, #264
 357              	.LCFI29:
 358              		.cfi_def_cfa_offset 24
 359 0058 BD46     		mov	sp, r7
 360              	.LCFI30:
 361              		.cfi_def_cfa_register 13
 362              		@ sp needed
 363 005a BDE88040 		pop	{r7, lr}
 364              	.LCFI31:
 365              		.cfi_restore 14
 366              		.cfi_restore 7
 367              		.cfi_def_cfa_offset 16
 368 005e 04B0     		add	sp, sp, #16
 369              	.LCFI32:
 370              		.cfi_restore 3
 371              		.cfi_restore 2
 372              		.cfi_restore 1
 373              		.cfi_restore 0
 374              		.cfi_def_cfa_offset 0
 375 0060 7047     		bx	lr
 376              	.L21:
 377 0062 00BF     		.align	2
 378              	.L20:
 379 0064 00000000 		.word	.LC0
 380              		.cfi_endproc
 381              	.LFE140:
 383              		.section	.text.atiny_strdup,"ax",%progbits
 384              		.align	1
 385              		.global	atiny_strdup
 386              		.syntax unified
 387              		.thumb
 388              		.thumb_func
 389              		.fpu fpv4-sp-d16
 391              	atiny_strdup:
 392              	.LFB141:
 117:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 118:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** char *atiny_strdup(const char *ch)
 119:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** {
 393              		.loc 1 119 0
 394              		.cfi_startproc
 395              		@ args = 0, pretend = 0, frame = 16
 396              		@ frame_needed = 1, uses_anonymous_args = 0
 397 0000 80B5     		push	{r7, lr}
 398              	.LCFI33:
 399              		.cfi_def_cfa_offset 8
 400              		.cfi_offset 7, -8
 401              		.cfi_offset 14, -4
 402 0002 84B0     		sub	sp, sp, #16
 403              	.LCFI34:
 404              		.cfi_def_cfa_offset 24
 405 0004 00AF     		add	r7, sp, #0
 406              	.LCFI35:
 407              		.cfi_def_cfa_register 7
ARM GAS  C:\Users\91458\AppData\Local\Temp\cczz5YzB.s 			page 10


 408 0006 7860     		str	r0, [r7, #4]
 120:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     char *copy;
 121:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     size_t length;
 122:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 123:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     if(NULL == ch)
 409              		.loc 1 123 0
 410 0008 7B68     		ldr	r3, [r7, #4]
 411 000a 002B     		cmp	r3, #0
 412 000c 01D1     		bne	.L23
 124:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****         return NULL;
 413              		.loc 1 124 0
 414 000e 0023     		movs	r3, #0
 415 0010 19E0     		b	.L24
 416              	.L23:
 125:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 126:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     length = strlen(ch);
 417              		.loc 1 126 0
 418 0012 7868     		ldr	r0, [r7, #4]
 419 0014 FFF7FEFF 		bl	strlen
 420 0018 F860     		str	r0, [r7, #12]
 127:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     copy = (char *)atiny_malloc(length + 1);
 421              		.loc 1 127 0
 422 001a FB68     		ldr	r3, [r7, #12]
 423 001c 0133     		adds	r3, r3, #1
 424 001e 1846     		mov	r0, r3
 425 0020 FFF7FEFF 		bl	atiny_malloc
 426 0024 B860     		str	r0, [r7, #8]
 128:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     if(NULL == copy)
 427              		.loc 1 128 0
 428 0026 BB68     		ldr	r3, [r7, #8]
 429 0028 002B     		cmp	r3, #0
 430 002a 01D1     		bne	.L25
 129:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****         return NULL;
 431              		.loc 1 129 0
 432 002c 0023     		movs	r3, #0
 433 002e 0AE0     		b	.L24
 434              	.L25:
 130:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     strncpy(copy, ch, length);
 435              		.loc 1 130 0
 436 0030 FA68     		ldr	r2, [r7, #12]
 437 0032 7968     		ldr	r1, [r7, #4]
 438 0034 B868     		ldr	r0, [r7, #8]
 439 0036 FFF7FEFF 		bl	strncpy
 131:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     copy[length] = '\0';
 440              		.loc 1 131 0
 441 003a BA68     		ldr	r2, [r7, #8]
 442 003c FB68     		ldr	r3, [r7, #12]
 443 003e 1344     		add	r3, r3, r2
 444 0040 0022     		movs	r2, #0
 445 0042 1A70     		strb	r2, [r3]
 132:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 133:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     return copy;
 446              		.loc 1 133 0
 447 0044 BB68     		ldr	r3, [r7, #8]
 448              	.L24:
 134:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** }
 449              		.loc 1 134 0
ARM GAS  C:\Users\91458\AppData\Local\Temp\cczz5YzB.s 			page 11


 450 0046 1846     		mov	r0, r3
 451 0048 1037     		adds	r7, r7, #16
 452              	.LCFI36:
 453              		.cfi_def_cfa_offset 8
 454 004a BD46     		mov	sp, r7
 455              	.LCFI37:
 456              		.cfi_def_cfa_register 13
 457              		@ sp needed
 458 004c 80BD     		pop	{r7, pc}
 459              		.cfi_endproc
 460              	.LFE141:
 462              		.section	.text.atiny_delay,"ax",%progbits
 463              		.align	1
 464              		.global	atiny_delay
 465              		.syntax unified
 466              		.thumb
 467              		.thumb_func
 468              		.fpu fpv4-sp-d16
 470              	atiny_delay:
 471              	.LFB142:
 135:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 136:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** void atiny_delay(uint32_t second)
 137:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** {
 472              		.loc 1 137 0
 473              		.cfi_startproc
 474              		@ args = 0, pretend = 0, frame = 8
 475              		@ frame_needed = 1, uses_anonymous_args = 0
 476 0000 80B5     		push	{r7, lr}
 477              	.LCFI38:
 478              		.cfi_def_cfa_offset 8
 479              		.cfi_offset 7, -8
 480              		.cfi_offset 14, -4
 481 0002 82B0     		sub	sp, sp, #8
 482              	.LCFI39:
 483              		.cfi_def_cfa_offset 16
 484 0004 00AF     		add	r7, sp, #0
 485              	.LCFI40:
 486              		.cfi_def_cfa_register 7
 487 0006 7860     		str	r0, [r7, #4]
 138:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     (void)LOS_TaskDelay(second * LOSCFG_BASE_CORE_TICK_PER_SECOND);
 488              		.loc 1 138 0
 489 0008 7B68     		ldr	r3, [r7, #4]
 490 000a 4FF47A72 		mov	r2, #1000
 491 000e 02FB03F3 		mul	r3, r2, r3
 492 0012 1846     		mov	r0, r3
 493 0014 FFF7FEFF 		bl	LOS_TaskDelay
 139:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** }
 494              		.loc 1 139 0
 495 0018 00BF     		nop
 496 001a 0837     		adds	r7, r7, #8
 497              	.LCFI41:
 498              		.cfi_def_cfa_offset 8
 499 001c BD46     		mov	sp, r7
 500              	.LCFI42:
 501              		.cfi_def_cfa_register 13
 502              		@ sp needed
 503 001e 80BD     		pop	{r7, pc}
ARM GAS  C:\Users\91458\AppData\Local\Temp\cczz5YzB.s 			page 12


 504              		.cfi_endproc
 505              	.LFE142:
 507              		.section	.text.atiny_mutex_create,"ax",%progbits
 508              		.align	1
 509              		.global	atiny_mutex_create
 510              		.syntax unified
 511              		.thumb
 512              		.thumb_func
 513              		.fpu fpv4-sp-d16
 515              	atiny_mutex_create:
 516              	.LFB143:
 140:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 141:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** #if (LOSCFG_BASE_IPC_SEM == YES)
 142:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 143:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** void *atiny_mutex_create(void)
 144:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** {
 517              		.loc 1 144 0
 518              		.cfi_startproc
 519              		@ args = 0, pretend = 0, frame = 8
 520              		@ frame_needed = 1, uses_anonymous_args = 0
 521 0000 80B5     		push	{r7, lr}
 522              	.LCFI43:
 523              		.cfi_def_cfa_offset 8
 524              		.cfi_offset 7, -8
 525              		.cfi_offset 14, -4
 526 0002 82B0     		sub	sp, sp, #8
 527              	.LCFI44:
 528              		.cfi_def_cfa_offset 16
 529 0004 00AF     		add	r7, sp, #0
 530              	.LCFI45:
 531              		.cfi_def_cfa_register 7
 145:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     uint32_t uwRet;
 146:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     uint32_t uwSemId;
 147:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 148:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     if (OS_INT_ACTIVE)
 532              		.loc 1 148 0
 533 0006 FFF7FEFF 		bl	osIntNumGet
 534 000a 0346     		mov	r3, r0
 535 000c 002B     		cmp	r3, #0
 536 000e 01D0     		beq	.L28
 149:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     {
 150:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****         return NULL;
 537              		.loc 1 150 0
 538 0010 0023     		movs	r3, #0
 539 0012 0FE0     		b	.L31
 540              	.L28:
 151:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     }
 152:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 153:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     uwRet = LOS_BinarySemCreate(1, (UINT32 *)&uwSemId);
 541              		.loc 1 153 0
 542 0014 3B46     		mov	r3, r7
 543 0016 1946     		mov	r1, r3
 544 0018 0120     		movs	r0, #1
 545 001a FFF7FEFF 		bl	LOS_BinarySemCreate
 546 001e 7860     		str	r0, [r7, #4]
 154:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 155:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     if (uwRet == LOS_OK)
ARM GAS  C:\Users\91458\AppData\Local\Temp\cczz5YzB.s 			page 13


 547              		.loc 1 155 0
 548 0020 7B68     		ldr	r3, [r7, #4]
 549 0022 002B     		cmp	r3, #0
 550 0024 05D1     		bne	.L30
 156:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     {
 157:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****         return (void *)(GET_SEM(uwSemId));
 551              		.loc 1 157 0
 552 0026 054B     		ldr	r3, .L32
 553 0028 1A68     		ldr	r2, [r3]
 554 002a 3B68     		ldr	r3, [r7]
 555 002c 1B01     		lsls	r3, r3, #4
 556 002e 1344     		add	r3, r3, r2
 557 0030 00E0     		b	.L31
 558              	.L30:
 158:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     }
 159:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     else
 160:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     {
 161:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****         return NULL;
 559              		.loc 1 161 0
 560 0032 0023     		movs	r3, #0
 561              	.L31:
 162:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     }
 163:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** }
 562              		.loc 1 163 0 discriminator 1
 563 0034 1846     		mov	r0, r3
 564 0036 0837     		adds	r7, r7, #8
 565              	.LCFI46:
 566              		.cfi_def_cfa_offset 8
 567 0038 BD46     		mov	sp, r7
 568              	.LCFI47:
 569              		.cfi_def_cfa_register 13
 570              		@ sp needed
 571 003a 80BD     		pop	{r7, pc}
 572              	.L33:
 573              		.align	2
 574              	.L32:
 575 003c 00000000 		.word	g_pstAllSem
 576              		.cfi_endproc
 577              	.LFE143:
 579              		.section	.text.atiny_mutex_destroy,"ax",%progbits
 580              		.align	1
 581              		.global	atiny_mutex_destroy
 582              		.syntax unified
 583              		.thumb
 584              		.thumb_func
 585              		.fpu fpv4-sp-d16
 587              	atiny_mutex_destroy:
 588              	.LFB144:
 164:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 165:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** void atiny_mutex_destroy(void *mutex)
 166:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** {
 589              		.loc 1 166 0
 590              		.cfi_startproc
 591              		@ args = 0, pretend = 0, frame = 8
 592              		@ frame_needed = 1, uses_anonymous_args = 0
 593 0000 80B5     		push	{r7, lr}
 594              	.LCFI48:
ARM GAS  C:\Users\91458\AppData\Local\Temp\cczz5YzB.s 			page 14


 595              		.cfi_def_cfa_offset 8
 596              		.cfi_offset 7, -8
 597              		.cfi_offset 14, -4
 598 0002 82B0     		sub	sp, sp, #8
 599              	.LCFI49:
 600              		.cfi_def_cfa_offset 16
 601 0004 00AF     		add	r7, sp, #0
 602              	.LCFI50:
 603              		.cfi_def_cfa_register 7
 604 0006 7860     		str	r0, [r7, #4]
 167:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     if (OS_INT_ACTIVE)
 605              		.loc 1 167 0
 606 0008 FFF7FEFF 		bl	osIntNumGet
 607 000c 0346     		mov	r3, r0
 608 000e 002B     		cmp	r3, #0
 609 0010 08D1     		bne	.L38
 168:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     {
 169:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****         return;
 170:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     }
 171:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 172:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     if (mutex == NULL)
 610              		.loc 1 172 0
 611 0012 7B68     		ldr	r3, [r7, #4]
 612 0014 002B     		cmp	r3, #0
 613 0016 07D0     		beq	.L39
 173:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     {
 174:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****         return;
 175:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     }
 176:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 177:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     (void)LOS_SemDelete(((SEM_CB_S *)mutex)->usSemID);
 614              		.loc 1 177 0
 615 0018 7B68     		ldr	r3, [r7, #4]
 616 001a DB88     		ldrh	r3, [r3, #6]
 617 001c 1846     		mov	r0, r3
 618 001e FFF7FEFF 		bl	LOS_SemDelete
 619 0022 02E0     		b	.L34
 620              	.L38:
 169:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     }
 621              		.loc 1 169 0
 622 0024 00BF     		nop
 623 0026 00E0     		b	.L34
 624              	.L39:
 174:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     }
 625              		.loc 1 174 0
 626 0028 00BF     		nop
 627              	.L34:
 178:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** }
 628              		.loc 1 178 0
 629 002a 0837     		adds	r7, r7, #8
 630              	.LCFI51:
 631              		.cfi_def_cfa_offset 8
 632 002c BD46     		mov	sp, r7
 633              	.LCFI52:
 634              		.cfi_def_cfa_register 13
 635              		@ sp needed
 636 002e 80BD     		pop	{r7, pc}
 637              		.cfi_endproc
ARM GAS  C:\Users\91458\AppData\Local\Temp\cczz5YzB.s 			page 15


 638              	.LFE144:
 640              		.section	.text.atiny_mutex_lock,"ax",%progbits
 641              		.align	1
 642              		.global	atiny_mutex_lock
 643              		.syntax unified
 644              		.thumb
 645              		.thumb_func
 646              		.fpu fpv4-sp-d16
 648              	atiny_mutex_lock:
 649              	.LFB145:
 179:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 180:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** void atiny_mutex_lock(void *mutex)
 181:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** {
 650              		.loc 1 181 0
 651              		.cfi_startproc
 652              		@ args = 0, pretend = 0, frame = 8
 653              		@ frame_needed = 1, uses_anonymous_args = 0
 654 0000 80B5     		push	{r7, lr}
 655              	.LCFI53:
 656              		.cfi_def_cfa_offset 8
 657              		.cfi_offset 7, -8
 658              		.cfi_offset 14, -4
 659 0002 82B0     		sub	sp, sp, #8
 660              	.LCFI54:
 661              		.cfi_def_cfa_offset 16
 662 0004 00AF     		add	r7, sp, #0
 663              	.LCFI55:
 664              		.cfi_def_cfa_register 7
 665 0006 7860     		str	r0, [r7, #4]
 182:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     if (mutex == NULL)
 666              		.loc 1 182 0
 667 0008 7B68     		ldr	r3, [r7, #4]
 668 000a 002B     		cmp	r3, #0
 669 000c 0CD0     		beq	.L44
 183:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     {
 184:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****         return;
 185:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     }
 186:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 187:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     if (OS_INT_ACTIVE)
 670              		.loc 1 187 0
 671 000e FFF7FEFF 		bl	osIntNumGet
 672 0012 0346     		mov	r3, r0
 673 0014 002B     		cmp	r3, #0
 674 0016 09D1     		bne	.L45
 188:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     {
 189:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****         return;
 190:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     }
 191:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 192:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     (void)LOS_SemPend(((SEM_CB_S *)mutex)->usSemID, ATINY_CNT_MAX_WAITTIME);
 675              		.loc 1 192 0
 676 0018 7B68     		ldr	r3, [r7, #4]
 677 001a DB88     		ldrh	r3, [r3, #6]
 678 001c 4FF0FF31 		mov	r1, #-1
 679 0020 1846     		mov	r0, r3
 680 0022 FFF7FEFF 		bl	LOS_SemPend
 681 0026 02E0     		b	.L40
 682              	.L44:
ARM GAS  C:\Users\91458\AppData\Local\Temp\cczz5YzB.s 			page 16


 184:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     }
 683              		.loc 1 184 0
 684 0028 00BF     		nop
 685 002a 00E0     		b	.L40
 686              	.L45:
 189:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     }
 687              		.loc 1 189 0
 688 002c 00BF     		nop
 689              	.L40:
 193:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** }
 690              		.loc 1 193 0
 691 002e 0837     		adds	r7, r7, #8
 692              	.LCFI56:
 693              		.cfi_def_cfa_offset 8
 694 0030 BD46     		mov	sp, r7
 695              	.LCFI57:
 696              		.cfi_def_cfa_register 13
 697              		@ sp needed
 698 0032 80BD     		pop	{r7, pc}
 699              		.cfi_endproc
 700              	.LFE145:
 702              		.section	.text.atiny_mutex_unlock,"ax",%progbits
 703              		.align	1
 704              		.global	atiny_mutex_unlock
 705              		.syntax unified
 706              		.thumb
 707              		.thumb_func
 708              		.fpu fpv4-sp-d16
 710              	atiny_mutex_unlock:
 711              	.LFB146:
 194:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 195:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** void atiny_mutex_unlock(void *mutex)
 196:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** {
 712              		.loc 1 196 0
 713              		.cfi_startproc
 714              		@ args = 0, pretend = 0, frame = 8
 715              		@ frame_needed = 1, uses_anonymous_args = 0
 716 0000 80B5     		push	{r7, lr}
 717              	.LCFI58:
 718              		.cfi_def_cfa_offset 8
 719              		.cfi_offset 7, -8
 720              		.cfi_offset 14, -4
 721 0002 82B0     		sub	sp, sp, #8
 722              	.LCFI59:
 723              		.cfi_def_cfa_offset 16
 724 0004 00AF     		add	r7, sp, #0
 725              	.LCFI60:
 726              		.cfi_def_cfa_register 7
 727 0006 7860     		str	r0, [r7, #4]
 197:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     if (mutex == NULL)
 728              		.loc 1 197 0
 729 0008 7B68     		ldr	r3, [r7, #4]
 730 000a 002B     		cmp	r3, #0
 731 000c 05D0     		beq	.L49
 198:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     {
 199:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****         return;
 200:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     }
ARM GAS  C:\Users\91458\AppData\Local\Temp\cczz5YzB.s 			page 17


 201:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 202:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     (void)LOS_SemPost(((SEM_CB_S *)mutex)->usSemID);
 732              		.loc 1 202 0
 733 000e 7B68     		ldr	r3, [r7, #4]
 734 0010 DB88     		ldrh	r3, [r3, #6]
 735 0012 1846     		mov	r0, r3
 736 0014 FFF7FEFF 		bl	LOS_SemPost
 737 0018 00E0     		b	.L46
 738              	.L49:
 199:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     }
 739              		.loc 1 199 0
 740 001a 00BF     		nop
 741              	.L46:
 203:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** }
 742              		.loc 1 203 0
 743 001c 0837     		adds	r7, r7, #8
 744              	.LCFI61:
 745              		.cfi_def_cfa_offset 8
 746 001e BD46     		mov	sp, r7
 747              	.LCFI62:
 748              		.cfi_def_cfa_register 13
 749              		@ sp needed
 750 0020 80BD     		pop	{r7, pc}
 751              		.cfi_endproc
 752              	.LFE146:
 754              		.section	.text.atiny_task_mutex_is_valid,"ax",%progbits
 755              		.align	1
 756              		.syntax unified
 757              		.thumb
 758              		.thumb_func
 759              		.fpu fpv4-sp-d16
 761              	atiny_task_mutex_is_valid:
 762              	.LFB147:
 204:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 205:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** #else
 206:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 207:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** void *atiny_mutex_create(void)
 208:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** {
 209:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     return NULL;
 210:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** }
 211:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 212:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** void atiny_mutex_destroy(void *mutex)
 213:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** {
 214:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     ((void)mutex);
 215:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** }
 216:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 217:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** void atiny_mutex_lock(void *mutex)
 218:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** {
 219:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     ((void)mutex);
 220:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** }
 221:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 222:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** void atiny_mutex_unlock(void *mutex)
 223:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** {
 224:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     ((void)mutex);
 225:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** }
 226:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 227:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** #endif /* LOSCFG_BASE_IPC_SEM == YES */
ARM GAS  C:\Users\91458\AppData\Local\Temp\cczz5YzB.s 			page 18


 228:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 229:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 230:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** #if (LOSCFG_BASE_IPC_MUX == YES)
 231:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** static bool atiny_task_mutex_is_valid(const atiny_task_mutex_s *mutex)
 232:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** {
 763              		.loc 1 232 0
 764              		.cfi_startproc
 765              		@ args = 0, pretend = 0, frame = 8
 766              		@ frame_needed = 1, uses_anonymous_args = 0
 767              		@ link register save eliminated.
 768 0000 80B4     		push	{r7}
 769              	.LCFI63:
 770              		.cfi_def_cfa_offset 4
 771              		.cfi_offset 7, -4
 772 0002 83B0     		sub	sp, sp, #12
 773              	.LCFI64:
 774              		.cfi_def_cfa_offset 16
 775 0004 00AF     		add	r7, sp, #0
 776              	.LCFI65:
 777              		.cfi_def_cfa_register 7
 778 0006 7860     		str	r0, [r7, #4]
 233:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     return (mutex != NULL) && (mutex->valid);
 779              		.loc 1 233 0
 780 0008 7B68     		ldr	r3, [r7, #4]
 781 000a 002B     		cmp	r3, #0
 782 000c 05D0     		beq	.L51
 783              		.loc 1 233 0 is_stmt 0 discriminator 1
 784 000e 7B68     		ldr	r3, [r7, #4]
 785 0010 5B68     		ldr	r3, [r3, #4]
 786 0012 002B     		cmp	r3, #0
 787 0014 01D0     		beq	.L51
 788              		.loc 1 233 0 discriminator 3
 789 0016 0123     		movs	r3, #1
 790 0018 00E0     		b	.L52
 791              	.L51:
 792              		.loc 1 233 0 discriminator 4
 793 001a 0023     		movs	r3, #0
 794              	.L52:
 795              		.loc 1 233 0 discriminator 6
 796 001c 03F00103 		and	r3, r3, #1
 797 0020 DBB2     		uxtb	r3, r3
 234:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** }
 798              		.loc 1 234 0 is_stmt 1 discriminator 6
 799 0022 1846     		mov	r0, r3
 800 0024 0C37     		adds	r7, r7, #12
 801              	.LCFI66:
 802              		.cfi_def_cfa_offset 4
 803 0026 BD46     		mov	sp, r7
 804              	.LCFI67:
 805              		.cfi_def_cfa_register 13
 806              		@ sp needed
 807 0028 5DF8047B 		ldr	r7, [sp], #4
 808              	.LCFI68:
 809              		.cfi_restore 7
 810              		.cfi_def_cfa_offset 0
 811 002c 7047     		bx	lr
 812              		.cfi_endproc
ARM GAS  C:\Users\91458\AppData\Local\Temp\cczz5YzB.s 			page 19


 813              	.LFE147:
 815              		.section	.text.atiny_task_mutex_create,"ax",%progbits
 816              		.align	1
 817              		.global	atiny_task_mutex_create
 818              		.syntax unified
 819              		.thumb
 820              		.thumb_func
 821              		.fpu fpv4-sp-d16
 823              	atiny_task_mutex_create:
 824              	.LFB148:
 235:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 236:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** int atiny_task_mutex_create(atiny_task_mutex_s *mutex)
 237:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** {
 825              		.loc 1 237 0
 826              		.cfi_startproc
 827              		@ args = 0, pretend = 0, frame = 16
 828              		@ frame_needed = 1, uses_anonymous_args = 0
 829 0000 80B5     		push	{r7, lr}
 830              	.LCFI69:
 831              		.cfi_def_cfa_offset 8
 832              		.cfi_offset 7, -8
 833              		.cfi_offset 14, -4
 834 0002 84B0     		sub	sp, sp, #16
 835              	.LCFI70:
 836              		.cfi_def_cfa_offset 24
 837 0004 00AF     		add	r7, sp, #0
 838              	.LCFI71:
 839              		.cfi_def_cfa_register 7
 840 0006 7860     		str	r0, [r7, #4]
 238:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     UINT32 ret;
 239:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 240:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     if (mutex == NULL)
 841              		.loc 1 240 0
 842 0008 7B68     		ldr	r3, [r7, #4]
 843 000a 002B     		cmp	r3, #0
 844 000c 02D1     		bne	.L55
 241:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     {
 242:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****         return ERR;
 845              		.loc 1 242 0
 846 000e 4FF0FF33 		mov	r3, #-1
 847 0012 12E0     		b	.L56
 848              	.L55:
 243:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     }
 244:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 245:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     memset(mutex, 0, sizeof(*mutex));
 849              		.loc 1 245 0
 850 0014 0822     		movs	r2, #8
 851 0016 0021     		movs	r1, #0
 852 0018 7868     		ldr	r0, [r7, #4]
 853 001a FFF7FEFF 		bl	memset
 246:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     ret = LOS_MuxCreate(&mutex->mutex);
 854              		.loc 1 246 0
 855 001e 7B68     		ldr	r3, [r7, #4]
 856 0020 1846     		mov	r0, r3
 857 0022 FFF7FEFF 		bl	LOS_MuxCreate
 858 0026 F860     		str	r0, [r7, #12]
 247:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     if (ret != LOS_OK)
ARM GAS  C:\Users\91458\AppData\Local\Temp\cczz5YzB.s 			page 20


 859              		.loc 1 247 0
 860 0028 FB68     		ldr	r3, [r7, #12]
 861 002a 002B     		cmp	r3, #0
 862 002c 01D0     		beq	.L57
 248:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     {
 249:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****         return ret;
 863              		.loc 1 249 0
 864 002e FB68     		ldr	r3, [r7, #12]
 865 0030 03E0     		b	.L56
 866              	.L57:
 250:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     }
 251:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     mutex->valid = true;
 867              		.loc 1 251 0
 868 0032 7B68     		ldr	r3, [r7, #4]
 869 0034 0122     		movs	r2, #1
 870 0036 5A60     		str	r2, [r3, #4]
 252:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     return LOS_OK;
 871              		.loc 1 252 0
 872 0038 0023     		movs	r3, #0
 873              	.L56:
 253:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** }
 874              		.loc 1 253 0
 875 003a 1846     		mov	r0, r3
 876 003c 1037     		adds	r7, r7, #16
 877              	.LCFI72:
 878              		.cfi_def_cfa_offset 8
 879 003e BD46     		mov	sp, r7
 880              	.LCFI73:
 881              		.cfi_def_cfa_register 13
 882              		@ sp needed
 883 0040 80BD     		pop	{r7, pc}
 884              		.cfi_endproc
 885              	.LFE148:
 887              		.section	.text.atiny_task_mutex_delete,"ax",%progbits
 888              		.align	1
 889              		.global	atiny_task_mutex_delete
 890              		.syntax unified
 891              		.thumb
 892              		.thumb_func
 893              		.fpu fpv4-sp-d16
 895              	atiny_task_mutex_delete:
 896              	.LFB149:
 254:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 255:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** #define ATINY_DESTROY_MUTEX_WAIT_INTERVAL 100
 256:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** int atiny_task_mutex_delete(atiny_task_mutex_s *mutex)
 257:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** {
 897              		.loc 1 257 0
 898              		.cfi_startproc
 899              		@ args = 0, pretend = 0, frame = 16
 900              		@ frame_needed = 1, uses_anonymous_args = 0
 901 0000 80B5     		push	{r7, lr}
 902              	.LCFI74:
 903              		.cfi_def_cfa_offset 8
 904              		.cfi_offset 7, -8
 905              		.cfi_offset 14, -4
 906 0002 84B0     		sub	sp, sp, #16
 907              	.LCFI75:
ARM GAS  C:\Users\91458\AppData\Local\Temp\cczz5YzB.s 			page 21


 908              		.cfi_def_cfa_offset 24
 909 0004 00AF     		add	r7, sp, #0
 910              	.LCFI76:
 911              		.cfi_def_cfa_register 7
 912 0006 7860     		str	r0, [r7, #4]
 258:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     int ret;
 259:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 260:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     if (!atiny_task_mutex_is_valid(mutex))
 913              		.loc 1 260 0
 914 0008 7868     		ldr	r0, [r7, #4]
 915 000a FFF7FEFF 		bl	atiny_task_mutex_is_valid
 916 000e 0346     		mov	r3, r0
 917 0010 83F00103 		eor	r3, r3, #1
 918 0014 DBB2     		uxtb	r3, r3
 919 0016 002B     		cmp	r3, #0
 920 0018 02D0     		beq	.L59
 261:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     {
 262:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****         return ERR;
 921              		.loc 1 262 0
 922 001a 4FF0FF33 		mov	r3, #-1
 923 001e 15E0     		b	.L60
 924              	.L59:
 263:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     }
 264:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 265:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     do
 266:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     {
 267:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****         ret = LOS_MuxDelete(mutex->mutex);
 925              		.loc 1 267 0
 926 0020 7B68     		ldr	r3, [r7, #4]
 927 0022 1B68     		ldr	r3, [r3]
 928 0024 1846     		mov	r0, r3
 929 0026 FFF7FEFF 		bl	LOS_MuxDelete
 930 002a 0346     		mov	r3, r0
 931 002c FB60     		str	r3, [r7, #12]
 268:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****         if (LOS_ERRNO_MUX_PENDED == ret)
 932              		.loc 1 268 0
 933 002e FB68     		ldr	r3, [r7, #12]
 934 0030 084A     		ldr	r2, .L65
 935 0032 9342     		cmp	r3, r2
 936 0034 03D1     		bne	.L64
 269:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****         {
 270:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****             LOS_TaskDelay(ATINY_DESTROY_MUTEX_WAIT_INTERVAL);
 937              		.loc 1 270 0
 938 0036 6420     		movs	r0, #100
 939 0038 FFF7FEFF 		bl	LOS_TaskDelay
 267:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****         if (LOS_ERRNO_MUX_PENDED == ret)
 940              		.loc 1 267 0
 941 003c F0E7     		b	.L59
 942              	.L64:
 271:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****         }
 272:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****         else
 273:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****         {
 274:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****             break;
 943              		.loc 1 274 0
 944 003e 00BF     		nop
 275:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****         }
 276:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     }while (true);
ARM GAS  C:\Users\91458\AppData\Local\Temp\cczz5YzB.s 			page 22


 277:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 278:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     memset(mutex, 0, sizeof(*mutex));
 945              		.loc 1 278 0
 946 0040 0822     		movs	r2, #8
 947 0042 0021     		movs	r1, #0
 948 0044 7868     		ldr	r0, [r7, #4]
 949 0046 FFF7FEFF 		bl	memset
 279:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** 
 280:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     return ret;
 950              		.loc 1 280 0
 951 004a FB68     		ldr	r3, [r7, #12]
 952              	.L60:
 281:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** }
 953              		.loc 1 281 0
 954 004c 1846     		mov	r0, r3
 955 004e 1037     		adds	r7, r7, #16
 956              	.LCFI77:
 957              		.cfi_def_cfa_offset 8
 958 0050 BD46     		mov	sp, r7
 959              	.LCFI78:
 960              		.cfi_def_cfa_register 13
 961              		@ sp needed
 962 0052 80BD     		pop	{r7, pc}
 963              	.L66:
 964              		.align	2
 965              	.L65:
 966 0054 091D0002 		.word	33561865
 967              		.cfi_endproc
 968              	.LFE149:
 970              		.section	.text.atiny_task_mutex_lock,"ax",%progbits
 971              		.align	1
 972              		.global	atiny_task_mutex_lock
 973              		.syntax unified
 974              		.thumb
 975              		.thumb_func
 976              		.fpu fpv4-sp-d16
 978              	atiny_task_mutex_lock:
 979              	.LFB150:
 282:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** int atiny_task_mutex_lock(atiny_task_mutex_s *mutex)
 283:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** {
 980              		.loc 1 283 0
 981              		.cfi_startproc
 982              		@ args = 0, pretend = 0, frame = 8
 983              		@ frame_needed = 1, uses_anonymous_args = 0
 984 0000 80B5     		push	{r7, lr}
 985              	.LCFI79:
 986              		.cfi_def_cfa_offset 8
 987              		.cfi_offset 7, -8
 988              		.cfi_offset 14, -4
 989 0002 82B0     		sub	sp, sp, #8
 990              	.LCFI80:
 991              		.cfi_def_cfa_offset 16
 992 0004 00AF     		add	r7, sp, #0
 993              	.LCFI81:
 994              		.cfi_def_cfa_register 7
 995 0006 7860     		str	r0, [r7, #4]
 284:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     if (!atiny_task_mutex_is_valid(mutex))
ARM GAS  C:\Users\91458\AppData\Local\Temp\cczz5YzB.s 			page 23


 996              		.loc 1 284 0
 997 0008 7868     		ldr	r0, [r7, #4]
 998 000a FFF7FEFF 		bl	atiny_task_mutex_is_valid
 999 000e 0346     		mov	r3, r0
 1000 0010 83F00103 		eor	r3, r3, #1
 1001 0014 DBB2     		uxtb	r3, r3
 1002 0016 002B     		cmp	r3, #0
 1003 0018 02D0     		beq	.L68
 285:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     {
 286:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****         return ERR;
 1004              		.loc 1 286 0
 1005 001a 4FF0FF33 		mov	r3, #-1
 1006 001e 07E0     		b	.L69
 1007              	.L68:
 287:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     }
 288:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     return LOS_MuxPend(mutex->mutex, ATINY_CNT_MAX_WAITTIME);
 1008              		.loc 1 288 0
 1009 0020 7B68     		ldr	r3, [r7, #4]
 1010 0022 1B68     		ldr	r3, [r3]
 1011 0024 4FF0FF31 		mov	r1, #-1
 1012 0028 1846     		mov	r0, r3
 1013 002a FFF7FEFF 		bl	LOS_MuxPend
 1014 002e 0346     		mov	r3, r0
 1015              	.L69:
 289:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** }
 1016              		.loc 1 289 0
 1017 0030 1846     		mov	r0, r3
 1018 0032 0837     		adds	r7, r7, #8
 1019              	.LCFI82:
 1020              		.cfi_def_cfa_offset 8
 1021 0034 BD46     		mov	sp, r7
 1022              	.LCFI83:
 1023              		.cfi_def_cfa_register 13
 1024              		@ sp needed
 1025 0036 80BD     		pop	{r7, pc}
 1026              		.cfi_endproc
 1027              	.LFE150:
 1029              		.section	.text.atiny_task_mutex_unlock,"ax",%progbits
 1030              		.align	1
 1031              		.global	atiny_task_mutex_unlock
 1032              		.syntax unified
 1033              		.thumb
 1034              		.thumb_func
 1035              		.fpu fpv4-sp-d16
 1037              	atiny_task_mutex_unlock:
 1038              	.LFB151:
 290:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** int atiny_task_mutex_unlock(atiny_task_mutex_s *mutex)
 291:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** {
 1039              		.loc 1 291 0
 1040              		.cfi_startproc
 1041              		@ args = 0, pretend = 0, frame = 8
 1042              		@ frame_needed = 1, uses_anonymous_args = 0
 1043 0000 80B5     		push	{r7, lr}
 1044              	.LCFI84:
 1045              		.cfi_def_cfa_offset 8
 1046              		.cfi_offset 7, -8
 1047              		.cfi_offset 14, -4
ARM GAS  C:\Users\91458\AppData\Local\Temp\cczz5YzB.s 			page 24


 1048 0002 82B0     		sub	sp, sp, #8
 1049              	.LCFI85:
 1050              		.cfi_def_cfa_offset 16
 1051 0004 00AF     		add	r7, sp, #0
 1052              	.LCFI86:
 1053              		.cfi_def_cfa_register 7
 1054 0006 7860     		str	r0, [r7, #4]
 292:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     if (!atiny_task_mutex_is_valid(mutex))
 1055              		.loc 1 292 0
 1056 0008 7868     		ldr	r0, [r7, #4]
 1057 000a FFF7FEFF 		bl	atiny_task_mutex_is_valid
 1058 000e 0346     		mov	r3, r0
 1059 0010 83F00103 		eor	r3, r3, #1
 1060 0014 DBB2     		uxtb	r3, r3
 1061 0016 002B     		cmp	r3, #0
 1062 0018 02D0     		beq	.L71
 293:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     {
 294:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****         return ERR;
 1063              		.loc 1 294 0
 1064 001a 4FF0FF33 		mov	r3, #-1
 1065 001e 05E0     		b	.L72
 1066              	.L71:
 295:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     }
 296:D:/iot/felix2/osdepends/liteos\atiny_osdep.c ****     return LOS_MuxPost(mutex->mutex);
 1067              		.loc 1 296 0
 1068 0020 7B68     		ldr	r3, [r7, #4]
 1069 0022 1B68     		ldr	r3, [r3]
 1070 0024 1846     		mov	r0, r3
 1071 0026 FFF7FEFF 		bl	LOS_MuxPost
 1072 002a 0346     		mov	r3, r0
 1073              	.L72:
 297:D:/iot/felix2/osdepends/liteos\atiny_osdep.c **** }
 1074              		.loc 1 297 0
 1075 002c 1846     		mov	r0, r3
 1076 002e 0837     		adds	r7, r7, #8
 1077              	.LCFI87:
 1078              		.cfi_def_cfa_offset 8
 1079 0030 BD46     		mov	sp, r7
 1080              	.LCFI88:
 1081              		.cfi_def_cfa_register 13
 1082              		@ sp needed
 1083 0032 80BD     		pop	{r7, pc}
 1084              		.cfi_endproc
 1085              	.LFE151:
 1087              		.text
 1088              	.Letext0:
 1089              		.file 2 "d:\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include\\machine\\_default_ty
 1090              		.file 3 "d:\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include\\sys\\_stdint.h"
 1091              		.file 4 "d:\\liteos studio\\resources\\arm-none-eabi\\lib\\gcc\\arm-none-eabi\\7.3.1\\include\\std
 1092              		.file 5 "d:\\liteos studio\\resources\\arm-none-eabi\\lib\\gcc\\arm-none-eabi\\7.3.1\\include\\std
 1093              		.file 6 "d:\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include\\stdio.h"
 1094              		.file 7 "d:\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include\\sys\\lock.h"
 1095              		.file 8 "d:\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include\\sys\\_types.h"
 1096              		.file 9 "d:\\liteos studio\\resources\\arm-none-eabi\\arm-none-eabi\\include\\sys\\reent.h"
 1097              		.file 10 "<built-in>"
 1098              		.file 11 "D:/iot/felix2/kernel/include/los_typedef.h"
 1099              		.file 12 "D:/iot/felix2/arch/arm/common/cmsis/core_cm4.h"
ARM GAS  C:\Users\91458\AppData\Local\Temp\cczz5YzB.s 			page 25


 1100              		.file 13 "D:/iot/felix2/targets/Cloud_STM32L431_BearPi/Inc/system_stm32l4xx.h"
 1101              		.file 14 "D:/iot/felix2/kernel/include/los_list.h"
 1102              		.file 15 "D:/iot/felix2/kernel/include/los_err.h"
 1103              		.file 16 "D:/iot/felix2/arch/arm/arm-m/include/los_hwi.h"
 1104              		.file 17 "D:/iot/felix2/kernel/include/los_tick.h"
 1105              		.file 18 "D:/iot/felix2/kernel/include/los_event.h"
 1106              		.file 19 "D:/iot/felix2/kernel/include/los_task.h"
 1107              		.file 20 "D:/iot/felix2/kernel/base/include/los_task.ph"
 1108              		.file 21 "D:/iot/felix2/targets/Cloud_STM32L431_BearPi/Inc/main.h"
 1109              		.file 22 "D:/iot/felix2/targets/Cloud_STM32L431_BearPi/OS_CONFIG/target_config.h"
 1110              		.file 23 "D:/iot/felix2/kernel/include/los_config.h"
 1111              		.file 24 "D:/iot/felix2/include/osdepends/atiny_osdep.h"
 1112              		.file 25 "D:/iot/felix2/kernel/include/los_memory.h"
 1113              		.file 26 "D:/iot/felix2/kernel/base/include/los_sem.ph"
 1114              		.file 27 "D:/iot/felix2/kernel/base/include/los_tick.ph"
ARM GAS  C:\Users\91458\AppData\Local\Temp\cczz5YzB.s 			page 26


DEFINED SYMBOLS
                            *ABS*:00000000 atiny_osdep.c
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:18     .text.osKernelGetTickCount:00000000 $t
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:24     .text.osKernelGetTickCount:00000000 osKernelGetTickCount
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:81     .text.osKernelGetTickCount:00000044 $d
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:86     .text.atiny_gettime_ms:00000000 $t
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:93     .text.atiny_gettime_ms:00000000 atiny_gettime_ms
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:121    .text.atiny_malloc:00000000 $t
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:128    .text.atiny_malloc:00000000 atiny_malloc
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:166    .text.atiny_malloc:00000020 $d
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:171    .text.atiny_free:00000000 $t
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:178    .text.atiny_free:00000000 atiny_free
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:215    .text.atiny_free:0000001c $d
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:220    .text.atiny_snprintf:00000000 $t
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:227    .text.atiny_snprintf:00000000 atiny_snprintf
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:287    .rodata:00000000 $d
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:291    .text.atiny_printf:00000000 $t
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:298    .text.atiny_printf:00000000 atiny_printf
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:379    .text.atiny_printf:00000064 $d
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:384    .text.atiny_strdup:00000000 $t
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:391    .text.atiny_strdup:00000000 atiny_strdup
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:463    .text.atiny_delay:00000000 $t
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:470    .text.atiny_delay:00000000 atiny_delay
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:508    .text.atiny_mutex_create:00000000 $t
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:515    .text.atiny_mutex_create:00000000 atiny_mutex_create
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:575    .text.atiny_mutex_create:0000003c $d
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:580    .text.atiny_mutex_destroy:00000000 $t
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:587    .text.atiny_mutex_destroy:00000000 atiny_mutex_destroy
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:641    .text.atiny_mutex_lock:00000000 $t
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:648    .text.atiny_mutex_lock:00000000 atiny_mutex_lock
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:703    .text.atiny_mutex_unlock:00000000 $t
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:710    .text.atiny_mutex_unlock:00000000 atiny_mutex_unlock
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:755    .text.atiny_task_mutex_is_valid:00000000 $t
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:761    .text.atiny_task_mutex_is_valid:00000000 atiny_task_mutex_is_valid
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:816    .text.atiny_task_mutex_create:00000000 $t
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:823    .text.atiny_task_mutex_create:00000000 atiny_task_mutex_create
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:888    .text.atiny_task_mutex_delete:00000000 $t
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:895    .text.atiny_task_mutex_delete:00000000 atiny_task_mutex_delete
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:966    .text.atiny_task_mutex_delete:00000054 $d
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:971    .text.atiny_task_mutex_lock:00000000 $t
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:978    .text.atiny_task_mutex_lock:00000000 atiny_task_mutex_lock
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:1030   .text.atiny_task_mutex_unlock:00000000 $t
C:\Users\91458\AppData\Local\Temp\cczz5YzB.s:1037   .text.atiny_task_mutex_unlock:00000000 atiny_task_mutex_unlock

UNDEFINED SYMBOLS
osIntNumGet
LOS_IntLock
LOS_IntRestore
g_ullTickCount
LOS_MemAlloc
m_aucSysMem0
LOS_MemFree
vsnprintf
memset
printf
strlen
strncpy
ARM GAS  C:\Users\91458\AppData\Local\Temp\cczz5YzB.s 			page 27


LOS_TaskDelay
LOS_BinarySemCreate
g_pstAllSem
LOS_SemDelete
LOS_SemPend
LOS_SemPost
LOS_MuxCreate
LOS_MuxDelete
LOS_MuxPend
LOS_MuxPost
